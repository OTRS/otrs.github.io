(window.webpackJsonp=window.webpackJsonp||[]).push([[32,412],{B0ip:function(t,e,s){"use strict";s.r(e);var o=s("5WRv"),a=s.n(o),i=s("6DIm"),l=s("bmGB"),n=s("rpZP"),r=s("FAt1");i.default.use(l.b,{toast:{position:l.a.rightBottom,showProgressBar:!1,icon:!1}});var d={name:"CommonMessages",components:{AppReloadMessage:r.default,CommonDialog:function(){return s.e(21).then(s.bind(null,"CqLK"))},FormButton:function(){return Promise.all([s.e(3),s.e(10)]).then(s.bind(null,"dphA"))}},mixins:[n.a],props:{autoClearToastMessages:{type:Boolean,default:!1},noAppReloadMessage:{type:Boolean,default:!1}},data:function(){return{isModalVisible:!1,modalId:"",modalHeading:"",modalHeadingPlaceholders:[],modalText:"",modalSize:"md",modalTextPlaceholders:[],modalButtonBehavior:"ok",modalAllowClose:!1,modalOkCallback:null,modalCancelCallback:null,frostModeId:null}},computed:{testMode:function(){return!!(this.$store&&this.$store.getters&&this.$store.getters.config&&this.$store.getters.config.SeleniumTestMode)&&1===parseInt(this.$store.getters.config.SeleniumTestMode,10)}},watch:{"$route.name":{handler:function(){this.autoClearAllToastMessages()}}},created:function(){this.$bus.$on(["showToastMessage","showNotification"],this.showToastMessage),this.$bus.$on(["hideToastMessage","clearNotification"],this.hideToastMessage),this.$bus.$on("showModalMessage",this.showModalMessage),this.$bus.$on("hideModalMessage",this.hideModalMessage),this.$bus.$on("clearAllToastMessages",this.clearAllToastMessages),this.$bus.$on("activateFrostMode",this.activateFrostMode),this.$bus.$on("deactivateFrostMode",this.deactivateFrostMode),this.$bus.$on("forceUpdate",this.refreshToastMessages)},beforeDestroy:function(){this.$bus.$off(["showToastMessage","showNotification"],this.showToastMessage),this.$bus.$off(["hideToastMessage","clearNotification"],this.hideToastMessage),this.$bus.$off("showModalMessage",this.showModalMessage),this.$bus.$off("hideModalMessage",this.hideModalMessage),this.$bus.$off("clearAllToastMessages",this.clearAllToastMessages),this.$bus.$off("activateFrostMode",this.activateFrostMode),this.$bus.$off("deactivateFrostMode",this.deactivateFrostMode),this.$bus.$off("forceUpdate",this.refreshToastMessages)},methods:{showToastMessage:function(t){var e,s=this;switch(t.variant){case"danger":e="error";break;case"warning":e="warning";break;case"success":e="success";break;case"info":default:e="info"}t.id?this.$snotify.remove(t.id,!0):t.id=this.getUuid();var o=t.dismissTimeout||3e3;t.persistent&&(o=0);var i=!0;(void 0!==t.dismissible&&!t.dismissible||this.frostModeId&&this.frostModeId!==t.frostModeId)&&(i=!1),this.$nextTick(function(){var l,n,r=s.$snotify[e]((l=s.$locale).translate.apply(l,[t.text].concat(a()(t.textPlaceholders||[]))),(n=s.$locale).translate.apply(n,[t.heading].concat(a()(t.headingPlaceholders||[]))),{id:t.id,timeout:o,closeOnClick:i,titleMaxLength:255,bodyMaxLength:255,pauseOnHover:!s.testMode,message:t});t.callback&&r.on("click",function(){if(s.frostModeId&&s.frostModeId!==t.frostModeId)return s.showModalMessage({id:"frostModeCallbackSuppressedMessage",text:"Please finish your current task first before you try to interact with this message again.",frostModeId:s.frostModeId}),void s.$log.warn("Frost mode active, callback suppressed.",t);(void 0===t.dismissible||t.dismissible)&&s.$snotify.remove(r.id),t.callback.call()})})},hideToastMessage:function(t){this.$snotify.remove(t,!0)},clearAllToastMessages:function(){this.$snotify.clear()},autoClearAllToastMessages:function(){this.autoClearToastMessages&&this.clearAllToastMessages()},refreshToastMessages:function(){var t=this;this.$snotify&&this.$snotify.notifications&&this.$snotify.notifications.forEach(function(e){e.config&&e.config.message&&t.showToastMessage(e.config.message)})},showModalMessage:function(t){var e=this;t&&t.text&&(this.isModalVisible?this.$log.error("Modal already active, message will not be shown.",t):this.frostModeId&&this.frostModeId!==t.frostModeId?this.$log.warn("Frost mode active, message will not be shown.",t):(this.modalText=t.text,this.modalTextPlaceholders=t.textPlaceholders||[],this.modalHeading=t.heading||"",this.modalHeadingPlaceholders=t.headingPlaceholders||[],this.modalAllowClose=t.allowClose||!1,this.modalSize=t.size||"md",this.modalButtonBehavior=t.buttonBehavior||"ok",this.modalId=t.id||"",t.okCallback&&"function"==typeof t.okCallback?this.modalOkCallback=t.okCallback:this.modalOkCallback=null,t.cancelCallback&&"function"==typeof t.cancelCallback?this.modalCancelCallback=t.cancelCallback:this.modalCancelCallback=null,this.$nextTick(function(){e.modalShow()})))},hideModalMessage:function(t){this.isModalVisible&&this.modalId===t&&this.modalClose()},modalOk:function(){this.modalClose(),this.modalOkCallback&&this.modalOkCallback()},modalCancel:function(){this.modalClose(),this.modalCancelCallback&&this.modalCancelCallback()},modalShow:function(){this.isModalVisible=!0},modalClose:function(){this.isModalVisible=!1},activateFrostMode:function(t){this.frostModeId=t},deactivateFrostMode:function(t){this.frostModeId===t&&(this.frostModeId=null)}}},c=(s("G5pt"),s("psIG")),h=Object(c.a)(d,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vue-snotify"),t._v(" "),t.noAppReloadMessage?t._e():s("AppReloadMessage",{ref:"appReloadMessage"}),t._v(" "),s("CommonDialog",{attrs:{size:t.modalSize,"no-close-on-backdrop":!t.modalAllowClose,"no-close-on-esc":!t.modalAllowClose,"hide-header":!t.modalHeading&&!t.modalAllowClose,"modal-class":"Modal","body-class":"Modal__Body text-left",lazy:""},scopedSlots:t._u([t.modalHeading?{key:"header",fn:function(){return[s("h4",{staticClass:"modal-title Modal__Title"},[t._v("\n                "+t._s(t._f("translate").apply(void 0,[t.modalHeading].concat(t.modalHeadingPlaceholders)))+"\n            ")]),t._v(" "),t.modalAllowClose?s("b-btn",{staticClass:"close Modal__CloseButton",on:{click:function(e){return t.modalClose()}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("\n                    Ã—\n                ")])]):t._e()]},proxy:!0}:null,{key:"footer",fn:function(){return["yesNo"===t.modalButtonBehavior?s("div",{staticClass:"float-right"},[s("FormButton",{staticClass:"mr-3 Modal__NoButton",attrs:{text:t._f("translate")("No"),variant:"secondary"},on:{click:function(e){return t.modalCancel()}}}),t._v(" "),s("FormButton",{staticClass:"Modal__YesButton",attrs:{text:t._f("translate")("Yes"),variant:"primary"},on:{click:function(e){return t.modalOk()}}})],1):"okCancel"===t.modalButtonBehavior?s("div",{staticClass:"float-right"},[s("FormButton",{staticClass:"mr-2 Modal__CancelButton",attrs:{text:t._f("translate")("Cancel"),variant:"secondary"},on:{click:function(e){return t.modalCancel()}}}),t._v(" "),s("FormButton",{staticClass:"Modal__OKButton",attrs:{text:t._f("translate")("OK"),variant:"primary"},on:{click:function(e){return t.modalOk()}}})],1):s("FormButton",{staticClass:"float-right Modal__OKButton",attrs:{text:t._f("translate")("OK"),variant:"primary"},on:{click:function(e){return t.modalOk()}}})]},proxy:!0}],null,!0),model:{value:t.isModalVisible,callback:function(e){t.isModalVisible=e},expression:"isModalVisible"}},[t._v(" "),t.modalText?s("p",[t._v("\n            "+t._s(t._f("translate").apply(void 0,[t.modalText].concat(t.modalTextPlaceholders)))+"\n        ")]):t._e()])],1)},[],!1,null,null,null);e.default=h.exports},FAt1:function(t,e,s){"use strict";s.r(e);s("2Tod"),s("ABKx"),s("W1QL"),s("K/PF"),s("t91x"),s("75LO");var o=s("OvAC"),a=s.n(o),i=s("lOrp");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,o)}return s}var n={name:"AppReloadMessage",data:function(){return{manifest:void 0}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach(function(e){a()(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({},Object(i.b)(["seleniumTestMode"])),mounted:function(){this.seleniumTestMode||(this.manifestFetch(),this.intervalId=setInterval(this.manifestFetch,3e4))},beforeDestroy:function(){clearInterval(this.intervalId)},methods:{manifestFetch:function(){var t=this;return this.clientSendRequest({Path:"".concat(this.$router.options.base,"/manifest"),Method:"get"},{xhr:!0,apiPrefix:"",responseType:"text",skipAuthentication:!0}).then(function(e){t.manifestCheck(e.Body)}).catch(function(e){t.$log.error("Manifest check failed!",e)})},manifestCheck:function(t){this.seleniumTestMode||(void 0!==this.manifest?this.manifest!==t&&(this.manifest=t,this.$bus.$emit("showToastMessage",{id:"appReloadMessage",heading:"Update Available",text:"The application is currently out of date. Please reload the application as soon as possible.",variant:"warning",persistent:!0,dismissible:!1,callback:function(){window.location.reload(!0)}}),this.$router.options.reloadApp=!0):this.manifest=t)}},render:function(){return null}},r=s("psIG"),d=Object(r.a)(n,void 0,void 0,!1,null,null,null);e.default=d.exports},G5pt:function(t,e,s){"use strict";var o=s("oWXE");s.n(o).a},oWXE:function(t,e,s){}}]);