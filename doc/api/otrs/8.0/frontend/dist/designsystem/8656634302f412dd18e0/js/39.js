(window.webpackJsonp=window.webpackJsonp||[]).push([[39,436],{"45qa":function(t,e,a){"use strict";var n=a("7kBL");a.n(n).a},"7kBL":function(t,e,a){},FYTe:function(t,e){t.exports="data:image/png;base64,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"},cFE3:function(t,e,a){"use strict";a.r(e);a("2Tod"),a("ABKx"),a("GkPX");var n=a("OvAC"),l=a.n(n);a("W1QL"),a("K/PF"),a("t91x"),a("75LO"),a("e2Kn");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}var r={name:"ChatCreate",components:{FormInput:function(){return a.e(19).then(a.bind(null,"CJfq"))},FormSelect:function(){return Promise.all([a.e(0),a.e(1),a.e(28)]).then(a.bind(null,"cDBQ"))},FormButton:function(){return Promise.all([a.e(3),a.e(12)]).then(a.bind(null,"dphA"))},ChatFooter:function(){return a.e(79).then(a.bind(null,"4L3h"))}},props:{publicUserId:{type:String},authenticated:{type:Boolean},allowChatChannels:{type:Boolean},defaultChatChannelId:{type:Number},showBackButton:{type:Boolean},primaryColor:{type:String},createChatTitle:{type:String,default:"Do you have any questions? Chat with us!"},noAvailableAgentsTitle:{type:String,default:"It looks like no one is available at the moment. Please try again later."},createTicketText:{type:String,default:"Or, create a ticket instead."},createTicketButtonText:{type:String,default:"Create Ticket"},publicUserNameText:{type:String,default:"Please enter your name."},publicUserNamePlaceholder:{type:String,default:"John Doe"},chatChannelsLabelText:{type:String,default:"Please select a channel."},writeMessageText:{type:String},noAvailableAgentsDescription:{type:String},noAvailableAgentsButtonText:{type:String},noAvailableAgentsButtonLink:{type:String}},data:function(){return{publicUserName:null,messageText:null,chatChannelId:this.defaultChatChannelId||null,chatChannels:[],availableChannelsLoaded:!1}},computed:{isValid:function(){return!(!this.authenticated&&!this.publicUserName)&&(!!this.messageText&&!(this.allowChatChannels&&this.chatChannels.length&&!this.chatChannelId))}},watch:{authenticated:function(){this.allowChatChannels&&this.getAvailableChannels()}},mounted:function(){this.allowChatChannels&&this.getAvailableChannels()},methods:{getAvailableChannels:function(){var t=this,e="public/chat/available-channels";this.authenticated||(e="public/chat/".concat(this.publicUserId,"/available-channels")),this.clientSendRequest({Path:e,Method:"get"}).then(function(e){t.chatChannels=t.chatChannelNormalizer(e.Body),t.defaultChatChannelId||1!==t.chatChannels.length||(t.chatChannelId=t.chatChannels[0].id,t.$test.setFlag("Chat::AvailableChannels::SingleChoice")),t.availableChannelsLoaded=!0,t.$nextTick(function(){t.$test.setFlag("Chat::AvailableChannels::Fetch")})}).catch(function(e){t.$log.error(e),t.$bus.$emit("showToastMessage",{id:"availableChannelsMessage",heading:"Error Loading Chat Channels",text:"The chat channels could not be loaded. Please contact the administrator.",variant:"danger",persistent:!1})})},chatChannelNormalizer:function(t){var e=[];return Object.keys(t).forEach(function(a){e.push({id:t[a].ID,label:t[a].Name})}),e},createChatRequest:function(){var t=this,e="public/chat/request-create";this.authenticated||(e="public/chat/".concat(this.publicUserId,"/request-create"));var a={};this.publicUserName&&(a.Name=this.publicUserName);var n={};this.chatChannelId&&(n.ChatChannelID=this.chatChannelId),this.clientSendRequest({Path:e,Method:"post",Body:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(a,!0).forEach(function(e){l()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}({Message:this.messageText},a,{},n)}).then(function(e){t.$emit("created",e.Body.ChatID)}).catch(function(e){t.$log.error(e),t.$bus.$emit("showToastMessage",{id:"chatRequestMessage",heading:"Error Creating Chat Request",text:"The new chat request could not be created. Please contact the administrator.",variant:"danger",persistent:!1})})},back:function(){this.$emit("back")},goToTicketCreate:function(){"TicketCreate"!==this.$route.name&&this.$router.push({name:"TicketCreate"}),this.close()},close:function(){this.$emit("close")}}},i=(a("45qa"),a("psIG")),o=Object(i.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-col",{staticClass:"px-0 mb-3 shadow Chat--WhiteBackground",attrs:{md:"12"}},[t.showBackButton?n("b-col",{staticClass:"py-2 Chat__Head Chat--WhiteBackground",attrs:{cols:"12"}},[n("CommonLink",{staticClass:"Chat__Icon",style:{color:t.primaryColor?t.primaryColor+" !important":null},on:{click:t.back}},[n("CommonIcon",{attrs:{icon:"arrow-left-1"}})],1)],1):t._e(),t._v(" "),t.allowChatChannels&&!t.chatChannels.length&&t.availableChannelsLoaded?[n("b-col",{staticClass:"mh-100 py-3 Chat__Content",attrs:{md:"12"}},[n("b-row",[n("b-col",{staticClass:"text-center",attrs:{md:"12"}},[n("div",{staticClass:"my-2"},[n("img",{attrs:{src:a("FYTe"),alt:""}})])])],1),t._v(" "),n("b-row",[n("b-col",{staticClass:"mb-3 text-center",attrs:{md:"12"}},[n("h2",[t._v(t._s(t._f("translate")(t.noAvailableAgentsTitle)))])])],1),t._v(" "),t.authenticated?n("b-row",[n("b-col",{staticClass:"text-center",attrs:{md:"12"}},[n("p",[t._v(t._s(t._f("translate")(t.createTicketText)))]),t._v(" "),n("FormButton",{attrs:{variant:"primary"},on:{click:t.goToTicketCreate}},[t._v("\n                        "+t._s(t._f("translate")(t.createTicketButtonText))+"\n                    ")])],1)],1):t._e(),t._v(" "),t.noAvailableAgentsButtonText&&t.noAvailableAgentsButtonLink?n("b-row",[n("b-col",{staticClass:"mb-3 text-center",attrs:{md:"12"}},[t.authenticated?n("br"):t._e(),t._v(" "),n("p",[t._v(t._s(t._f("translate")(t.noAvailableAgentsDescription)))]),t._v(" "),n("FormButton",{attrs:{variant:"primary","is-external":!0,link:t.noAvailableAgentsButtonLink}},[t._v("\n                        "+t._s(t._f("translate")(t.noAvailableAgentsButtonText))+"\n                    ")])],1)],1):t._e()],1)]:t.availableChannelsLoaded?[n("b-col",{staticClass:"mh-100 py-3 Chat__Content",attrs:{md:"12"}},[n("b-row",[n("b-col",{staticClass:"text-center",attrs:{md:"12"}},[n("div",{staticClass:"my-2"},[n("img",{attrs:{src:a("FYTe"),alt:""}})])])],1),t._v(" "),n("b-row",[n("b-col",{staticClass:"mb-3 text-center",attrs:{md:"12"}},[n("h2",[t._v(t._s(t._f("translate")(t.createChatTitle)))])])],1),t._v(" "),t.authenticated?t._e():n("b-row",[n("b-col",{staticClass:"text-center",attrs:{md:"12"}},[n("FormInput",{attrs:{label:t._f("translate")(t.publicUserNameText),placeholder:t._f("translate")(t.publicUserNamePlaceholder),required:""},model:{value:t.publicUserName,callback:function(e){t.publicUserName=e},expression:"publicUserName"}})],1)],1),t._v(" "),t.allowChatChannels&&t.chatChannels.length>1&&!t.defaultChatChannelId?n("b-row",[n("b-col",{staticClass:"text-center",attrs:{md:"12"}},[n("FormSelect",{attrs:{label:t._f("translate")(t.chatChannelsLabelText),options:t.chatChannels,required:""},model:{value:t.chatChannelId,callback:function(e){t.chatChannelId=e},expression:"chatChannelId"}})],1)],1):t._e()],1),t._v(" "),n("ChatFooter",{attrs:{"is-valid":t.isValid,"primary-color":t.primaryColor,"write-message-text":t.writeMessageText},on:{send:t.createChatRequest},model:{value:t.messageText,callback:function(e){t.messageText=e},expression:"messageText"}})]:t._e()],2)},[],!1,null,null,null);e.default=o.exports}}]);