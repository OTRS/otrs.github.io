

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OTRS Daemon &mdash; OTRS Developer Manual 7.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../../_static/css/otrs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="OTRS Scheduler" href="scheduler-task-worker-modules.html" />
    <link rel="prev" title="Operation" href="../gi-operation.html" /> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
    
    
    <a href="https://doc.otrs.com/doc" class="icon fa-rocket DocumentationOverview"> OTRS Documentation</a>

    

          
            <a href="../../../index.html" class="icon icon-home"> OTRS Developer Manual
          

          
            
            <img src="../../../../_static/otrs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../get-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../how-it-works.html">OTRS Internals - How it Works</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../how-to-extend-otrs.html">How to Extend OTRS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../writing-otrs-application.html">Writing A New OTRS Front End Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../writing-new-otrs-frontend-component.html">Writing A New OTRS Front End Component</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../otrs-module-layers.html">Using the power of the OTRS module layers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../agent-auth.html">Agent Authentication Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auth-sync.html">Authentication Synchronization Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customer-auth.html">Customer Authentication Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customer-user-preferences.html">Customer User Preferences Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queue-preferences.html">Queue Preferences Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../service-preferences.html">Service Preferences Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sla-preferences.html">SLA Preferences Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../log.html">Log Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../outputfilter.html">Output Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html">Stats Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticketnumber-generator.html">Ticket Number Generator Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticketevent.html">Ticket Event Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dashboard.html">Dashboard Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notify.html">Notification Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticket-menu.html">Ticket Menu Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-transport.html">Network Transport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-mapping.html">Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-invoker.html">Invoker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-operation.html">Operation</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">OTRS Daemon</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#otrs-daemon-modules">OTRS Daemon Modules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="scheduler-task-worker-modules.html">OTRS Scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-framework.html">Dynamic Fields Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-interaction.html">Dynamic Field Interaction With Front End Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-extend-options.html">How To Extend The Dynamic Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-new-field.html">Creating A New Dynamic Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-extend.html">Creating a Dynamic Field Functionality Extension</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticket-postmaster-modules.html">Ticket Postmaster Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process-management-modules.html">Process Management</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../how-to-publish-otrs-extensions.html">How to Publish Your OTRS Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Contributing to OTRS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../additional-resources.html">Additional Resources</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">OTRS Developer Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../how-to-extend-otrs.html">How to Extend OTRS</a> &raquo;</li>
        
          <li><a href="../../otrs-module-layers.html">Using the power of the OTRS module layers</a> &raquo;</li>
        
      <li>OTRS Daemon</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OTRS/doc-developer/blob/rel-7_0/content/how-to-extend-otrs/otrs-module-layers/daemon/daemon-modules.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="otrs-daemon">
<h1>OTRS Daemon<a class="headerlink" href="#otrs-daemon" title="Permalink to this headline">¶</a></h1>
<p>The OTRS daemon is a separated process that helps OTRS to execute certain actions asynchronously and detached of the web server process, but sharing the same database.</p>
<div class="section" id="otrs-daemon-modules">
<h2>OTRS Daemon Modules<a class="headerlink" href="#otrs-daemon-modules" title="Permalink to this headline">¶</a></h2>
<p>The OTRS daemon <code class="docutils literal notranslate"><span class="pre">bin/otrs.Daemon.pl</span></code> main purpose is to call (daemonize) all the registered daemon modules in the system configuration.</p>
<p>Each daemon module must implement a common API in order to be correctly called by the OTRS daemon and be a semi persistent process in the system. Persistent process could grow in size and memory usage over the time and normally they do not respond to changes in the configuration. That is why the daemon modules should implement a discard mechanism to be stopped and re-spawned again from time to time, freeing system resources and re-reading the configuration.</p>
<p>A daemon module could be an all-in-one solution to perform a certain job, but there could be the case that a solution requires different daemon modules due to its complexity. That is exactly the case of the OTRS scheduler daemon that is split into several daemon modules including some daemon modules for task management and task execution.</p>
<p>It is not always necessary to create a new daemon module to perform certain task, usually the OTRS scheduler daemon can deal with the majority of them, either if it is an OTRS function that needs to be executed on a regular basis (CRON like) or if it’s triggered by an OTRS event, the OTRS scheduler should be capable to deal with it out of the box or by adding a new scheduler task worker module.</p>
<div class="section" id="creating-a-new-daemon-module">
<h3>Creating A New Daemon Module<a class="headerlink" href="#creating-a-new-daemon-module" title="Permalink to this headline">¶</a></h3>
<p>All daemon modules requires to be registered in the system configuration in order to be called by the main OTRS daemon.</p>
<div class="section" id="daemon-module-registration-code-example">
<h4>Daemon Module Registration Code Example<a class="headerlink" href="#daemon-module-registration-code-example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Setting</span> <span class="na">Name=</span><span class="s">&quot;DaemonModules###TestDaemon&quot;</span> <span class="na">Required=</span><span class="s">&quot;1&quot;</span> <span class="na">Valid=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Description</span> <span class="na">Translatable=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>The daemon registration for the scheduler generic agent task manager.<span class="nt">&lt;/Description&gt;</span>
    <span class="nt">&lt;Navigation&gt;</span>Daemon::ModuleRegistration<span class="nt">&lt;/Navigation&gt;</span>
    <span class="nt">&lt;Value&gt;</span>
        <span class="nt">&lt;Hash&gt;</span>
            <span class="nt">&lt;Item</span> <span class="na">Key=</span><span class="s">&quot;Module&quot;</span><span class="nt">&gt;</span>Kernel::System::Daemon::DaemonModules::TestDaemon<span class="nt">&lt;/Item&gt;</span>
        <span class="nt">&lt;/Hash&gt;</span>
    <span class="nt">&lt;/Value&gt;</span>
<span class="nt">&lt;/Setting&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="daemon-module-code-example">
<h4>Daemon Module Code Example<a class="headerlink" href="#daemon-module-code-example" title="Permalink to this headline">¶</a></h4>
<p>The following code implements a daemon module that displays the system time every 2 seconds.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="c1"># --</span>
<span class="c1"># Copyright (C) 2001-2019 OTRS AG, https://otrs.com/</span>
<span class="c1"># --</span>
<span class="c1"># This software comes with ABSOLUTELY NO WARRANTY. For details, see</span>
<span class="c1"># the enclosed file COPYING for license information (GPL). If you</span>
<span class="c1"># did not receive this file, see https://www.gnu.org/licenses/gpl-3.0.txt.</span>
<span class="c1"># --</span>

<span class="k">package</span> <span class="nn">Kernel::System::Daemon::DaemonModules::TestDaemon</span><span class="p">;</span>

<span class="k">use</span> <span class="nn">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">utf8</span><span class="p">;</span>

<span class="k">use</span> <span class="nn">Kernel::System::VariableCheck</span> <span class="sx">qw(:all)</span><span class="p">;</span>

<span class="k">use</span> <span class="nn">parent</span> <span class="sx">qw(Kernel::System::Daemon::BaseDaemon)</span><span class="p">;</span>

<span class="k">our</span> <span class="nv">@ObjectDependencies</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s">&#39;Kernel::Config&#39;</span><span class="p">,</span>
    <span class="s">&#39;Kernel::System::Cache&#39;</span><span class="p">,</span>
    <span class="s">&#39;Kernel::System::DB&#39;</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
<p>This is common header that can be found in common OTRS modules. The class/package name is declared via the <code class="docutils literal notranslate"><span class="pre">package</span></code> keyword.</p>
<p>In this case we are inheriting from <code class="docutils literal notranslate"><span class="pre">BaseDaemon</span></code> class, and the object manager dependencies are set.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="k">sub</span> <span class="nf">new</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$Type</span><span class="p">,</span> <span class="nv">%Param</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>

    <span class="c1"># Allocate new hash for object.</span>
    <span class="k">my</span> <span class="nv">$Self</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="nb">bless</span> <span class="nv">$Self</span><span class="p">,</span> <span class="nv">$Type</span><span class="p">;</span>

    <span class="c1"># Get objects in constructor to save performance.</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">ConfigObject</span><span class="p">}</span> <span class="o">=</span> <span class="nv">$</span><span class="nn">Kernel::</span><span class="nv">OM</span><span class="o">-&gt;</span><span class="n">Get</span><span class="p">(</span><span class="s">&#39;Kernel::Config&#39;</span><span class="p">);</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">CacheObject</span><span class="p">}</span>  <span class="o">=</span> <span class="nv">$</span><span class="nn">Kernel::</span><span class="nv">OM</span><span class="o">-&gt;</span><span class="n">Get</span><span class="p">(</span><span class="s">&#39;Kernel::System::Cache&#39;</span><span class="p">);</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DBObject</span><span class="p">}</span>     <span class="o">=</span> <span class="nv">$</span><span class="nn">Kernel::</span><span class="nv">OM</span><span class="o">-&gt;</span><span class="n">Get</span><span class="p">(</span><span class="s">&#39;Kernel::System::DB&#39;</span><span class="p">);</span>

    <span class="c1"># Disable in memory cache to be clusterable.</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">CacheObject</span><span class="p">}</span><span class="o">-&gt;</span><span class="n">Configure</span><span class="p">(</span>
        <span class="n">CacheInMemory</span>  <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">CacheInBackend</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">);</span>

    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">SleepPost</span><span class="p">}</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>          <span class="c1"># sleep 2 seconds after each loop</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">Discard</span><span class="p">}</span>   <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span><span class="p">;</span>    <span class="c1"># discard every hour</span>

    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DiscardCount</span><span class="p">}</span> <span class="o">=</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">Discard</span><span class="p">}</span> <span class="o">/</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">SleepPost</span><span class="p">};</span>

    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">Debug</span><span class="p">}</span>      <span class="o">=</span> <span class="nv">$Param</span><span class="p">{</span><span class="n">Debug</span><span class="p">};</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DaemonName</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;Daemon: TestDaemon&#39;</span><span class="p">;</span>

    <span class="k">return</span> <span class="nv">$Self</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The constructor <code class="docutils literal notranslate"><span class="pre">new</span></code> creates a new instance of the class. Some used objects are also created here. It is highly recommended to disable in-memory cache in daemon modules especially if OTRS runs in a cluster environment.</p>
<p>In order to make this daemon module to be executed every two seconds it is necessary to define a sleep time accordingly, otherwise it will be executed as soon as possible.</p>
<p>Refreshing the daemon module from time to time is necessary in order to define when it should be discarded.</p>
<p>For the following functions (<code class="docutils literal notranslate"><span class="pre">PreRun</span></code>, <code class="docutils literal notranslate"><span class="pre">Run</span></code> and <code class="docutils literal notranslate"><span class="pre">PostRun</span></code>) if they return false, the main OTRS daemon will discard the object and create a new one as soon as possible.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="k">sub</span> <span class="nf">PreRun</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$Self</span><span class="p">,</span> <span class="nv">%Param</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>

    <span class="c1"># Check if database is on-line.</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DBObject</span><span class="p">}</span><span class="o">-&gt;</span><span class="n">Ping</span><span class="p">();</span>

    <span class="nb">sleep</span> <span class="mi">10</span><span class="p">;</span>

    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">PreRun</span></code> method is executed before the main daemon module method, and the its purpose is to perform some test before the real operation. In this case a check to the database is done (always recommended), otherwise it sleeps for 10 seconds. This is needed in order to wait for DB connection to be reestablished.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="k">sub</span> <span class="nf">Run</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$Self</span><span class="p">,</span> <span class="nv">%Param</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>

    <span class="k">print</span> <span class="s">&quot;Current time &quot;</span> <span class="o">.</span> <span class="nb">localtime</span> <span class="o">.</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Run</span></code> method is where the main daemon module code resides, in this case it only prints the current time.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="k">sub</span> <span class="nf">PostRun</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$Self</span><span class="p">,</span> <span class="nv">%Param</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
    <span class="nb">sleep</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">SleepPost</span><span class="p">};</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DiscardCount</span><span class="p">}</span><span class="o">--</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">Debug</span><span class="p">}</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">print</span> <span class="s">&quot;  $Self-&gt;{DaemonName} Discard Count: $Self-&gt;{DiscardCount}\n&quot;</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="k">if</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DiscardCount</span><span class="p">}</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">PostRun</span></code> method is used to perform the sleeps (preventing the daemon module to be executed too often) and also to manage the safe discarding of the object. Other operations like verification or cleanup can be done here.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="k">sub</span> <span class="nf">Summary</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$Self</span><span class="p">,</span> <span class="nv">%Param</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>

    <span class="k">my</span> <span class="nv">%Summary</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Header</span> <span class="o">=&gt;</span> <span class="s">&#39;Test Daemon Summary:&#39;</span><span class="p">,</span>
        <span class="n">Column</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="n">Name</span>        <span class="o">=&gt;</span> <span class="s">&#39;SomeColumn&#39;</span><span class="p">,</span>
                <span class="n">DisplayName</span> <span class="o">=&gt;</span> <span class="s">&#39;Some Column&#39;</span><span class="p">,</span>
                <span class="n">Size</span>        <span class="o">=&gt;</span> <span class="mi">15</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="n">Name</span>        <span class="o">=&gt;</span> <span class="s">&#39;AnotherColumn&#39;</span><span class="p">,</span>
                <span class="n">DisplayName</span> <span class="o">=&gt;</span> <span class="s">&#39;Another Column&#39;</span><span class="p">,</span>
                <span class="n">Size</span>        <span class="o">=&gt;</span> <span class="mi">15</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="c1"># ...</span>
        <span class="p">],</span>
        <span class="n">Data</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="n">SomeColumn</span>    <span class="o">=&gt;</span> <span class="s">&#39;Some Data 1&#39;</span><span class="p">,</span>
                <span class="n">AnotherColumn</span> <span class="o">=&gt;</span> <span class="s">&#39;Another Data 1&#39;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="n">SomeColumn</span>    <span class="o">=&gt;</span> <span class="s">&#39;Some Data 2&#39;</span><span class="p">,</span>
                <span class="n">AnotherColumn</span> <span class="o">=&gt;</span> <span class="s">&#39;Another Data 2&#39;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="c1"># ...</span>
        <span class="p">],</span>
        <span class="n">NoDataMesssage</span> <span class="o">=&gt;</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
    <span class="p">);</span>

    <span class="k">return</span> <span class="o">\</span><span class="nv">%Summary</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Summary</span></code> method is called by the console command <code class="docutils literal notranslate"><span class="pre">Maint::Daemon::Summary</span></code> and it’s required to return <code class="docutils literal notranslate"><span class="pre">Header</span></code>, <code class="docutils literal notranslate"><span class="pre">Column</span></code>, <code class="docutils literal notranslate"><span class="pre">Data</span></code> and <code class="docutils literal notranslate"><span class="pre">NoDataMessages</span></code> keys. <code class="docutils literal notranslate"><span class="pre">Column</span></code> and <code class="docutils literal notranslate"><span class="pre">Data</span></code> needs to be an array of hashes. It is used to display useful information of what the daemon module is currently doing, or what has been done so far. This method is optional.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
<p>End of file.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          

<script>
// Start Google Analytics Tracking
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-28118796-2', 'auto');
ga('send', 'pageview');
// End Google Analytics Tracking
</script>

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="scheduler-task-worker-modules.html" class="btn btn-neutral float-right" title="OTRS Scheduler" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../gi-operation.html" class="btn btn-neutral" title="Operation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2001-2019 OTRS AG, https://otrs.com/

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>