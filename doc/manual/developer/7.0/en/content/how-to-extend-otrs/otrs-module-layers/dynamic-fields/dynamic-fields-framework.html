

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dynamic Fields Framework &mdash; OTRS Developer Manual 7.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../../_static/css/otrs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Dynamic Field Interaction With Front End Modules" href="dynamic-fields-interaction.html" />
    <link rel="prev" title="Overview" href="dynamic-fields-overview.html" /> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
    
    
    <a href="https://doc.otrs.com/doc" class="icon fa-rocket DocumentationOverview"> OTRS Documentation</a>

    

          
            <a href="../../../index.html" class="icon icon-home"> OTRS Developer Manual
          

          
            
            <img src="../../../../_static/otrs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../get-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../how-it-works.html">OTRS Internals - How it Works</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../how-to-extend-otrs.html">How to Extend OTRS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../writing-otrs-application.html">Writing A New OTRS Front End Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../writing-new-otrs-frontend-component.html">Writing A New OTRS Front End Component</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../otrs-module-layers.html">Using the power of the OTRS module layers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../agent-auth.html">Agent Authentication Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auth-sync.html">Authentication Synchronization Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customer-auth.html">Customer Authentication Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customer-user-preferences.html">Customer User Preferences Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queue-preferences.html">Queue Preferences Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../service-preferences.html">Service Preferences Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sla-preferences.html">SLA Preferences Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../log.html">Log Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../outputfilter.html">Output Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html">Stats Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticketnumber-generator.html">Ticket Number Generator Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticketevent.html">Ticket Event Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dashboard.html">Dashboard Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notify.html">Notification Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticket-menu.html">Ticket Menu Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-transport.html">Network Transport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-mapping.html">Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-invoker.html">Invoker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-operation.html">Operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../daemon/daemon-modules.html">OTRS Daemon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../daemon/scheduler-task-worker-modules.html">OTRS Scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="dynamic-fields-overview.html">Overview</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Dynamic Fields Framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-field-back-end-modules">Dynamic Field Back End Modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-fields-admin-modules">Dynamic Fields Admin Modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-fields-core-modules">Dynamic Fields Core Modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-fields-database-tables">Dynamic Fields Database Tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-fields-configuration-files">Dynamic Fields Configuration Files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dynamic-fields-interaction.html">Dynamic Field Interaction With Front End Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="dynamic-fields-extend-options.html">How To Extend The Dynamic Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="dynamic-fields-new-field.html">Creating A New Dynamic Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="dynamic-fields-extend.html">Creating a Dynamic Field Functionality Extension</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticket-postmaster-modules.html">Ticket Postmaster Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process-management-modules.html">Process Management</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../how-to-publish-otrs-extensions.html">How to Publish Your OTRS Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Contributing to OTRS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../additional-resources.html">Additional Resources</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">OTRS Developer Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../how-to-extend-otrs.html">How to Extend OTRS</a> &raquo;</li>
        
          <li><a href="../../otrs-module-layers.html">Using the power of the OTRS module layers</a> &raquo;</li>
        
      <li>Dynamic Fields Framework</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OTRS/doc-developer/blob/rel-7_0/content/how-to-extend-otrs/otrs-module-layers/dynamic-fields/dynamic-fields-framework.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dynamic-fields-framework">
<h1>Dynamic Fields Framework<a class="headerlink" href="#dynamic-fields-framework" title="Permalink to this headline">¶</a></h1>
<p>Before creating new dynamic fields is necessary to understand its framework and how OTRS screens interact with them, as well as their underlying API.</p>
<p>The following picture shows the architecture of the dynamic fields framework.</p>
<div class="figure" id="id1">
<img alt="Dynamic Fields Framework" src="../../../../_images/dfframework.png" />
<p class="caption"><span class="caption-text">Dynamic Fields Framework</span></p>
</div>
<div class="section" id="dynamic-field-back-end-modules">
<h2>Dynamic Field Back End Modules<a class="headerlink" href="#dynamic-field-back-end-modules" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dynamic-field-back-end">
<h3>Dynamic Field (Back End)<a class="headerlink" href="#dynamic-field-back-end" title="Permalink to this headline">¶</a></h3>
<p>Normally called as <code class="docutils literal notranslate"><span class="pre">BackendObject</span></code> in the front end modules is the mediator between the front end modules and each specific dynamic field implementation or driver. It defines a generic middle API for all dynamic field drivers, and each driver has the responsibility to implement the middle API for the specific needs for the field.</p>
<p>The dynamic field back end is the master controller of all the drivers. Each function in this module is responsible to check the required parameters and call the same function in the specific driver according to the dynamic field configuration parameter received.</p>
<p>This module is also responsible to call specific functions on each object type delegate (like <code class="docutils literal notranslate"><span class="pre">Ticket</span></code> or <code class="docutils literal notranslate"><span class="pre">Article</span></code>) e.g. to add a history entry or fire an event.</p>
<p>This module is located in <code class="docutils literal notranslate"><span class="pre">$OTRS_HOME/Kernel/System/DynamicField/Backend.pm</span></code>.</p>
</div>
<div class="section" id="dynamic-field-drivers">
<span id="dynamic-fields-framework-backends-drivers"></span><h3>Dynamic Field Drivers<a class="headerlink" href="#dynamic-field-drivers" title="Permalink to this headline">¶</a></h3>
<p>A dynamic field driver is the implementation of the dynamic field. Each driver must implement all the mandatory functions specified in the back end (there are some functions that depends on a behavior and it is
not needed to implement those if the dynamic field does not have that particular behavior).</p>
<p>A driver is responsible to know how to get its own value or values from a web request, or from a profile (like a search profile). It also needs to know the HTML code to render the field in edit or display screens, or how to interact with the stats module, among other functions.</p>
<p>These modules are located in <code class="docutils literal notranslate"><span class="pre">$OTRS_HOME/Kernel/System/DynamicField/Driver/*.pm</span></code>.</p>
<p>It exists some base drivers like <code class="docutils literal notranslate"><span class="pre">Base.pm</span></code>, <code class="docutils literal notranslate"><span class="pre">BaseText.pm</span></code>, <code class="docutils literal notranslate"><span class="pre">BaseSelect.pm</span></code> and <code class="docutils literal notranslate"><span class="pre">BaseDateTime.pm</span></code>, that implements common functions for certain drivers (e.g. driver <code class="docutils literal notranslate"><span class="pre">TextArea.pm</span></code> uses <code class="docutils literal notranslate"><span class="pre">BaseText.pm</span></code> that also uses <code class="docutils literal notranslate"><span class="pre">Base.pm</span></code> then <code class="docutils literal notranslate"><span class="pre">TextArea</span></code> only needs to implement the functions that are missing in <code class="docutils literal notranslate"><span class="pre">Base.pm</span></code> and <code class="docutils literal notranslate"><span class="pre">BateText.pm</span></code> or the ones that are special cases).</p>
<p>The following is the drivers inheritance tree:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">Base.pm</span></code></p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseText.pm</span></code></p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Text.pm</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TextArea.pm</span></code></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseSelect.pm</span></code></p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Dropdown.pm</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Multiselect.pm</span></code></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseDateTime.pm</span></code></p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DateTime.pm</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Date.pm</span></code></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">Checkbox.pm</span></code></p>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="object-type-delegate">
<h3>Object Type Delegate<a class="headerlink" href="#object-type-delegate" title="Permalink to this headline">¶</a></h3>
<p>An object type delegate is responsible to perform specific functions on the object linked to the dynamic field. These functions are triggered by the back end object as they are needed.</p>
<p>These modules are located in <code class="docutils literal notranslate"><span class="pre">$OTRS_HOME/Kernel/System/DynamicField/ObjectType/*.pm</span></code>.</p>
</div>
</div>
<div class="section" id="dynamic-fields-admin-modules">
<h2>Dynamic Fields Admin Modules<a class="headerlink" href="#dynamic-fields-admin-modules" title="Permalink to this headline">¶</a></h2>
<p>To manage the dynamic fields (add, edit and list) a series of modules has been already developed. There is one specific master module (<code class="docutils literal notranslate"><span class="pre">AdminDynamicField.pm</span></code>) that shows the list of defined dynamic fields, and from within other modules are called to create new dynamic fields or modify an existing ones.</p>
<p>Normally a dynamic field driver needs its own admin module (admin dialog) to define its properties. This dialog might differ from other drivers. But this is not mandatory, drivers can share admin dialogs, if they can provide needed information for all the drivers that are linked to them, no matter if they are from different type. What is mandatory is that each driver must be linked to an admin dialog (e.g. text and textarea drivers share <code class="docutils literal notranslate"><span class="pre">AdminDynamicFieldText.pm</span></code> admin dialog, and date and date/time drivers share <code class="docutils literal notranslate"><span class="pre">AdminDynamicFieldDateTime.pm</span></code> admin dialog).</p>
<p>Admin dialogs follow the normal OTRS admin module rules and architecture. But for standardization all configuration common parts to all dynamic fields should have the same look and feel among all admin dialogs.</p>
<p>These modules are located in <code class="docutils literal notranslate"><span class="pre">$OTRS_HOME/Kernel/Modules/*.pm</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Each admin dialog needs its corresponding HTML template file (<code class="docutils literal notranslate"><span class="pre">.tt</span></code>).</p>
</div>
</div>
<div class="section" id="dynamic-fields-core-modules">
<h2>Dynamic Fields Core Modules<a class="headerlink" href="#dynamic-fields-core-modules" title="Permalink to this headline">¶</a></h2>
<p>This modules reads and writes the dynamic fields information from and to the database tables.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">DynamicField.pm</span></code></dt>
<dd>This module is responsible to manage the dynamic field definitions. It provides the basic API for add, change, delete, list and get dynamic fields. This module is located in <code class="docutils literal notranslate"><span class="pre">$OTRS_HOME/Kernel/System/DynamicField.pm</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DynamicFieldValue.pm</span></code></dt>
<dd>This module is responsible to read and write dynamic field values into the form and into the database. This module is highly used by the drivers and is located in <code class="docutils literal notranslate"><span class="pre">$OTRS_HOME/Kernel/System/DynamicFieldValue.pm</span></code>.</dd>
</dl>
</div>
<div class="section" id="dynamic-fields-database-tables">
<h2>Dynamic Fields Database Tables<a class="headerlink" href="#dynamic-fields-database-tables" title="Permalink to this headline">¶</a></h2>
<p>There are two tables in the database to store the dynamic field information:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">dynamic_field</span></code></dt>
<dd>Used by the core module <code class="docutils literal notranslate"><span class="pre">DynamicField.pm</span></code>, it stores the dynamic field definitions.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dynamic_field_value</span></code></dt>
<dd>Used by the core module <code class="docutils literal notranslate"><span class="pre">DynamicFieldValue.pm</span></code> to save the dynamic field values for each dynamic field and each object type instance.</dd>
</dl>
</div>
<div class="section" id="dynamic-fields-configuration-files">
<h2>Dynamic Fields Configuration Files<a class="headerlink" href="#dynamic-fields-configuration-files" title="Permalink to this headline">¶</a></h2>
<p>The back end module needs a way to know which drivers exists and since the amount of drivers can be easily extended. The easiest way to manage them is to use the system configuration, where the information of dynamic field drivers and object type drivers can be stored and extended.</p>
<p>The master admin module also needs to know this information about the available dynamic field drivers to use the admin dialog linked with, to create or modify the dynamic fields.</p>
<p>Front end modules need to read the system configuration to know which dynamic fields are active for each screen and which ones are also mandatory. For example: <code class="docutils literal notranslate"><span class="pre">Ticket::Frontend::AgentTicketPhone###DynamicField</span></code> stores the active, mandatory and inactive dynamic fields for <em>New Phone Ticket</em> screen.</p>
</div>
</div>


           </div>
           
          </div>
          

<script>
// Start Google Analytics Tracking
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-28118796-2', 'auto');
ga('send', 'pageview');
// End Google Analytics Tracking
</script>

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dynamic-fields-interaction.html" class="btn btn-neutral float-right" title="Dynamic Field Interaction With Front End Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dynamic-fields-overview.html" class="btn btn-neutral" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2001-2020 OTRS AG, https://otrs.com/

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>