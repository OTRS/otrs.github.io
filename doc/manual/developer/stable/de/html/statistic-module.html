<html><head>
<!-- otrs.github.io -->
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../../../documentation.css">
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../../../../../documentation.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
<script>
$(document).ready(function() {

    // Hint languages to prevent false matches (php for example).
    hljs.configure({
        languages: ['perl', 'javascript', 'xml', 'html', 'css', 'json', 'yaml']
    });

    // programlistings in manuals
    $('pre.programlisting').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    // code snippets in Perl API docs
    $('.pod pre').addClass('perl').each(function(i, block) {
        hljs.highlightBlock(block);
    });
});</script>
<!-- otrs.github.io -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Statistikmodul</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="OTRS 3.3 - Admin Manual"><link rel="up" href="administration.html" title="Kapitel 4. Administration"><link rel="prev" href="pdf-output.html" title="Customizing the PDF output"><link rel="next" href="dynamicfields.html" title="Dynamic Fields"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Statistikmodul</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pdf-output.html">Zurück</a> </td><th width="60%" align="center">Kapitel 4. Administration</th><td width="20%" align="right"> <a accesskey="n" href="dynamicfields.html">Weiter</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="statistic-module"></a>Statistikmodul</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="statistic-module.html#stats-usage">Bedienung des Moduls durch den Agent</a></span></dt><dd><dl><dt><span class="section"><a href="statistic-module.html#stats-overview">Übersicht</a></span></dt><dt><span class="section"><a href="statistic-module.html#stats-viewing-generating">Ansehen und Generieren von Statistiken</a></span></dt><dt><span class="section"><a href="statistic-module.html#stats-modify-new">Bearbeiten / Neu</a></span></dt><dt><span class="section"><a href="statistic-module.html#stats-import">Importieren</a></span></dt></dl></dd><dt><span class="section"><a href="statistic-module.html#stats-managing-the-module">Verwaltung des Statistik-Moduls durch den OTRS-Administrator</a></span></dt><dd><dl><dt><span class="section"><a href="statistic-module.html#stats-permissions">Rechte, Gruppen und Queues</a></span></dt><dt><span class="section"><a href="statistic-module.html#stats-sysconfig">Die SysConfig (Verwaltung der Systemkonfiguration)</a></span></dt></dl></dd><dt><span class="section"><a href="statistic-module.html#stats-managing-the-stats-module-by-the-sysadmin">Verwaltung des Statistik-Moduls durch den System-Administrator</a></span></dt><dd><dl><dt><span class="section"><a href="statistic-module.html#stats-db-table">Datenbanktabelle</a></span></dt><dt><span class="section"><a href="statistic-module.html#stats-filelist">Auflistung aller Dateien</a></span></dt><dt><span class="section"><a href="statistic-module.html#stats-caching">Caching</a></span></dt><dt><span class="section"><a href="statistic-module.html#stats-mkstats">otrs.GenerateStats.pl</a></span></dt><dt><span class="section"><a href="statistic-module.html#stats-cron">Automatisiertes Generieren von Statistiken - Cron</a></span></dt><dt><span class="section"><a href="statistic-module.html#stats-static">Statische Statistiken</a></span></dt><dt><span class="section"><a href="statistic-module.html#stats-using-old-stats">Wiederverwerten alter statischer Statistiken</a></span></dt><dt><span class="section"><a href="statistic-module.html#stats-default-stats">Standardstatistiken</a></span></dt></dl></dd></dl></div><p>
The OTRS stats module holds features to track operational statistics and
generates custom reports associated with OTRS usage. The OTRS system uses
the term "stat" generically to refer to a report presenting various
indicators.
</p><p>
Eine sinnvolle Konfiguration des OTRS-Statistikmoduls ist verbunden mit
einer Vielzahl von Anforderungen und Überlegungen. Darin eingeschlossen sind
die auszuwertenden Module von OTRS, Benutzerrechte, zu berechnende
Indikatoren und ihre Komplexitätsgrade, eine einfache Konfiguration des
Statistikmoduls, Geschwindigkeit und Effizienz der Berechnungen, und die
Unterstützung verschiedener Ausgabevarianten.
</p><p>
Um komplexe Statistiken abzubilden, besteht ferner die Möglichkeit statische
Elemente zu integrieren (Dateien, die die Funktionalität des
Statistik-Moduls um ganz spezifische Anforderungen ergänzen).
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="stats-usage"></a>Bedienung des Moduls durch den Agent</h3></div></div></div><p>
When signed on as an agent, the navigation bar displays the link
"Statistics", with various submenu options, as shown in Figure.
</p><p>
</p><div class="screenshot"><div><img src="screenshots/stats-menu.png"></div></div><p>
</p><p>
<span class="emphasis"><em>Abb.: Statistikmenü.</em></span>
</p><p>
Folgende Optionen sind im Statistikmenü verfügbar:
</p><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
            <span class="emphasis"><em>Übersicht</em></span>. Zeigt eine Liste vorkonfigurierter Reports
an.
        </p></li><li class="listitem"><p>
            <span class="emphasis"><em>Neu</em></span>. Benötigt "rw"-Rechte.
        </p></li><li class="listitem"><p>
            <span class="emphasis"><em>Importieren</em></span>. Benötigt "rw"-Rechte.
        </p></li></ul></div><p>
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-overview"></a>Übersicht</h4></div></div></div><p>
Die Auswahl von "Statistik" und des Unterpunktes "Übersicht" ruft den
Übersichtsbildschirm auf. Hier wird dem Agenten eine Liste von
vorkonfigurierten Reports präsentiert, die er verwenden kann.

</p><p>
</p><div class="screenshot"><div><img src="screenshots/stats-overview.png"></div></div><p>
</p><p>
<span class="emphasis"><em>Abb.: Übersicht der Standardstatistiken.</em></span>
</p><p>
Folgende Informationen sind den in der Übersicht aufgelisteten Statistiken
zu entnehmen:
</p><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
            <span class="emphasis"><em>Stat#</em></span>. Eindeutige Statistiknummer.
        </p></li><li class="listitem"><p>
            <span class="emphasis"><em>Titel</em></span>. Titel der Statistik.
        </p></li><li class="listitem"><p>
            <span class="emphasis"><em>Objekt</em></span>. Objekt, das für die Generierung der Statistik
verwendet wird. Wenn es sich um eine statische Statistik handelt, wird kein
Objekt angezeigt, da kein dynamisches Objekt zur Generierung verwendet
wird.
        </p></li><li class="listitem"><p>
            <span class="emphasis"><em>Beschreibung</em></span>. Ein Auszug aus der Beschreibung der
Statistik.
        </p></li></ul></div><p>
</p><p>
Wenn das Statistikmodul installiert ist, enthält es einige vorkonfigurierte
Reports. Diese können in der Übersicht aufgerufen werden. Wenn die Liste zu
lang für eine Seite wird, kann der Agent durch die verschiedenen Seiten
blättern. Die Liste kann durch klick auf den Spaltenkopf wie gewünscht
geordnet werden. Um einen bestimmten Report zu erzeugen, klicken Sie auf die
Statistiknummer des Reports in der Übersicht. Dadurch gelangen Sie in die
Ansichtsseite des Reports.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-viewing-generating"></a>Ansehen und Generieren von Statistiken</h4></div></div></div><p>
Aufgabe der "Ansehen"-Oberfläche ist es, dem Agent einen Überblick über die
Vorkonfiguration der Statistik zu ermöglichen.
</p><p>
</p><div class="screenshot"><a name="stats-view-screenshot"></a><div><img src="screenshots/stats-view.png"></div></div><p>
</p><p>
<span class="emphasis"><em>Abb.: Ansicht einer Statistik.</em></span>
</p><p>
Konfigurationseinstellungen für einen Report können in den Optionen der
Ansichtsseite eingestellt werden. Der Ersteller des Reports und jeder Agent
mit den benötigten Rechten kann diese Einstellungen vornehmen.
</p><p>
Konkret wird auf dieser Seite folgendes angezeigt:
</p><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
        Verfügbare Aktionen:
        </p><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                    <span class="emphasis"><em>Zurück zur Übersicht</em></span>.  Zurück zur Übersichtsliste der
Reports.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Bearbeiten</em></span>. Die aktuelle Statistik bearbeiten (benötigt
"rw"-Rechte).
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Löschen</em></span>. Die aktuelle Statistik löschen (benötigt
"rw"-Rechte).
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Konfiguration exportieren</em></span>. Exportieren einer
Statistikkonfiguration mittels Dateidownload ("rw"-Rechte erforderlich).
                </p><p>
                    Verwendung: Mittels der Export- und Importfunktionen können Statistiken
bequem auf Testsystemen entworfen und getestet werden, um dann anschließend
einfach in das Produktivsystem integriert zu werden.
                </p></li></ul></div><p>
        </p></li><li class="listitem"><p>
        Report-Details:
        </p><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                    <span class="emphasis"><em>Statistik-Nr.</em></span>. Die Nummer der Statistik.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Titel</em></span>. Titel der Statistik.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Objekt</em></span>. Objekt, das für die Generierung der Statistik
verwendet wird.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Beschreibung</em></span>. Ein Auszug aus der Beschreibung der
Statistik.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Format</em></span>. Ausgabeformat der Statistik. Hierbei stehen je
nach Konfiguration folgende Ausgabeformate zur Verfügung:
                </p><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>
                        CSV.
                        </p></li><li class="listitem"><p>
                        Drucken.
                        </p></li><li class="listitem"><p>
                        Liniendiagramm.
                        </p></li><li class="listitem"><p>
                        Balkendiagramm.
                        </p></li><li class="listitem"><p>
                        Balkendiagramm (horizontal).
                        </p></li><li class="listitem"><p>
                        Punktdiagramm
                        </p></li><li class="listitem"><p>
                        Linienpunktdiagramm.
                        </p></li><li class="listitem"><p>
                        Flächendiagramm.
                        </p></li><li class="listitem"><p>
                        Tortendiagramm.
                        </p></li></ul></div><p>
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Grafikgröße</em></span>. Mögliche Größe der Grafik bzw. des
Diagramms. Diese Auswahl bzw. Anzeige erscheint nur, wenn die
Statistikvorkonfiguration ein Diagramm vorsieht bzw. ermöglicht. Alle
generell verwendbaren Grafikgrößen werden durch den otrs-Admin in der
SysConfig definiert. Beim Konfigurieren der Statistiken kann dann der
Ersteller alle relevanten Formate vorselektieren.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Zeilensummierung</em></span>. Gibt an, ob die Statistik durch eine
Spalte ergänzt wird, deren Zellen die Summe der jeweiligen Zeile darstellt.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Spaltensummierung</em></span>. Angabe, ob die Statistik durch eine
Zeile ergänzt wird, deren Zellen die Summe der jeweiligen Spalte beinhaltet.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Cache</em></span>. Gibt an, ob die errechneten Statistiken im
Dateisystem gecacht werden.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Gültig</em></span>. Ist eine vorkonfigurierte Statistik erst im
Entstehen oder darf sie aus bestimmten Gründen temporär nicht mehr
ausgeführt werden so wird das Element "Gültig" auf "ungültig"
gesetzt. Ferner wird dadurch die Schaltfläche "Start" rechts unten am Ende
des Block ausgeblendet. Ein Generieren der Statistik ist somit nicht
möglich.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Erstellt</em></span>. Erstellungszeit der Statistik.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Erstellt von</em></span>.  Agent, der die Statistik erstellt hat.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Geändert</em></span>. Letzte Änderungszeit der Statistik.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>Geändert von</em></span>.  Agent, der die Statistik zuletzt
geändert hat.
                </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>X-Achse</em></span>. Diese Option erlaubt es dem Agenten, die X-
und Y-Achsen zu vertauschen (Diese Funktion muss vom OTRS-Administrator
freigeschaltet werden).
                </p></li><li class="listitem"><p>
                Nach den allgemeinen Angaben sieht der Agent die Angaben zur eigentlichen
Statistik. Hierbei kommen grundsätzlich zwei verschiedene Anzeigen zum
Einsatz:
                </p><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>
                            <span class="emphasis"><em>Anzeige statischer Statistiken</em></span>. Statische
Report-Generatoren können in die Statistik integriert werden (siehe unten).
                        </p><p>
                        </p><div class="screenshot"><div><img src="screenshots/stats-view-static.png"></div></div><p>
                        </p><p>
                            <span class="emphasis"><em>Abb.: Ansicht der statischen Statistik.</em></span>
                        </p></li><li class="listitem"><p>
                            <span class="emphasis"><em>Anzeige dynamischer Statistiken</em></span> Dynamische Statistiken
können auf zweierlei Weise angezeigt werden:
                        </p><p>
                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                    <span class="emphasis"><em>Unveränderbare Einstellungen</em></span>. In diesem Fall hat der
Ersteller der Statistik dem Agent, der eine Statistik generieren will,
keinen Freiraum für Veränderungen gelassen.
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>Veränderbare Einstellungen</em></span>. Bei derartigen Statistiken
ist es dem Agent noch erlaubt die vorkonfigurierte Statistik zu verändern.
                                </p></li></ul></div><p>
                        </p></li></ul></div><p>
                </p></li></ul></div><p>
        </p></li></ul></div><p>
</p><p>
Um eine Statistik zu generieren, muss abschließend lediglich der
"Start"-Button am rechten unteren Ende des Blocks gedrückt werden. Sollte
einmal der "Start"-Button nicht sichtbar sein, kann dies zwei Ursachen
haben:
</p><p>
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
        die Statistik wurde auf ungültig gesetzt und damit deaktiviert.
        </p></li><li class="listitem"><p>
        die Statistik wurde nicht sauber konfiguriert und ist noch nicht
lauffähig. Ist dies der Fall, findet man die nötigen Informationen im
Notification-Bereich von OTRS (unterhalb der Navigationsleiste).
        </p></li></ol></div><p>
</p><p>
Bei falschen Einstellungen auf der Ansichtsseite wird nach Drücken des
"Start"-Button wieder die Ansichtseite gezeigt und im Notificationbereich
darauf hingewiesen, welche Eingaben falsch waren.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-modify-new"></a>Bearbeiten / Neu</h4></div></div></div><p>
Agenten mit Schreibrechten können existierende Report-Konfigurationen
bearbeiten, indem sie die Bearbeitungsmaske des Statistikmoduls
aufrufen. Altertativ können sie einen neuen Report erstellen. Die
zugehörigen Masken können folgendermaßen aufgerufen werden:
</p><p>
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Durch den Knopf "Bearbeiten" in der Statistikansicht.
    </p></li><li class="listitem"><p>
    Durch den "Neu"-Link im Statistikmenü der Navigationsleiste, oder durch den
Knopf "Hinzufügen" in der Übersichtsseite.
    </p></li></ol></div><p>
</p><p>
Das Bearbeiten der Statistiken erfolgt in vier Schritten mit Hilfe eines
Assistenten bzw. Wizards:
</p><p>
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Allgemeine Angaben zur Statistik.
    </p></li><li class="listitem"><p>
    Festlegen des Elements für die X-Achse.
    </p></li><li class="listitem"><p>
    Festlegen der Wertereihen.
    </p></li><li class="listitem"><p>
    Festlegen der Einschränkungen des Reports.
    </p></li></ol></div><p>
</p><p>
Die Punkte 2-4 werden nur für dynamisch zusammengestellte Statistiken
benötigt. Benutzt man eine statische Statistik ist man mit dem Einfügen der
allgemeinen Angaben in Punkt 1. bereits fertig.
</p><p>
Für alle Eingabeoberflächen des Statistik-Moduls gilt: Im Anschluss an das
jeweilige Eingabeformular findet der Benutzer Informationen zur Bedienung
der Seite.
</p><p>
Sollte es dennoch zu fehlerhaften Eingaben kommen, wird die zuvor
bearbeitete Oberfläche wieder geladen. Dabei wird die Seite um Informationen
zur fehlerhaften Eingabe ergänzt. Diese Informationen findet man im
Notificationbereich von OTRS. Erst nachdem ein Formular korrekt ausgefüllt
wurde, gelangt man zur nächsten Eingabeoberfläche.
</p><p>
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
        <span class="emphasis"><em>Allgemeine Angaben</em></span>. Dies ist die erste Seite des
Assistenten.
    </p><p>
    </p><div class="screenshot"><div><img src="screenshots/stats-edit-general.png"></div></div><p>
    </p><p>
        <span class="emphasis"><em>Abb.: Allgemeine Angaben zur Statistik bearbeiten.</em></span>
    </p><p>
        Folgende allgemeine Angaben und Einstellungen der Statistik können geändert
werden:
    </p><p>
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                <span class="emphasis"><em>Titel</em></span>. Er sollte kurz und prägnant die Aufgabe der
Statistik wiedergeben.
            </p></li><li class="listitem"><p>
                <span class="emphasis"><em>Beschreibung</em></span>. Hier werden Informationen eingetragen,
die einen tieferen Einblick in die Aufgabenstellung, Art der
Konfigurationsparameter, usw. erlauben.
            </p></li><li class="listitem"><p>
                <span class="emphasis"><em>Dynamisches Objekt</em></span>. Sollte die OTRS-Installation über
mehrere dynamische Objekte verfügen, kann hier das gewünschte Objekt
ausgewählt werden. Die Objekte sind jeweils auf die Anforderungen des
entsprechenden Moduls ausgelegt.
            </p></li><li class="listitem"><p>
                <span class="emphasis"><em>Statische Datei</em></span>. An dieser Stelle kann eine gewünschte
statische Datei ausgewählt werden. Diese Auswahl wird für gewöhnlich nicht
erscheinen, da nur die statischen Dateien angezeigt werden, die noch keiner
Statistik zugeordnet wurden! Wenn der Punkt "Statische Datei" angezeigt
wird, ist es wichtig im Formular durch die Auswahl des Optionsfelds die
gewünschte Generierungsart auszuwählen (Dynamisch durch ein dynamisches
Objekt oder statisch durch eine Datei). Wird eine statische Datei ausgewählt
entfallen die Eingabeoberflächen 2-4, da die statische Datei die nötigen
Konfigurationen bereits mitbringt.
            </p></li><li class="listitem"><p>
                <span class="emphasis"><em>Rechtevergabe</em></span>. Durch die Rechtevergabe kann man regeln,
welche Gruppen (und dadurch welche Agents) die vorkonfigurierten Statistiken
später ansehen und generieren können. So können die verschiedenen
Statistiken auf die verschiedenen Abteilungen und Arbeitsgruppen aufgeteilt
werden, die diese benötigen. Eine Mehrfachauswahl ist dabei möglich.
            </p><p>
                Beispiel 1: Die Gruppe "stats" wurde ausgewählt. Der Report kann von allen
Nutzern verwendet werden, die mindestens "ro"-Rechte für die Gruppe "stats"
haben. Diese Berechtigung ist die Voreinstellung.
            </p><p>
                Beispiel 2: Es wurde eine Gruppe namens "sales" selektiert. Alle Benutzer
die ro-Rechte in der Gruppe "sales" haben können nun diese Statistik im
Ansichtsmodus sehen und generieren. Anderen Benutzern, die in der Lage sind
Statistiken zu generieren wird dann diese Statistik nicht angeboten.
            </p></li><li class="listitem"><p>
                <span class="emphasis"><em>Format</em></span>. Ausgabeformat der Statistik. Hierbei stehen je
nach Konfiguration folgende Ausgabeformate zur Verfügung:
            </p><p>
            </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                        CSV.
                    </p></li><li class="listitem"><p>
                        Drucken.
                    </p></li><li class="listitem"><p>
                        Liniendiagramm.
                    </p></li><li class="listitem"><p>
                        Balkendiagramm.
                    </p></li><li class="listitem"><p>
                        Balkendiagramm (horizontal).
                    </p></li><li class="listitem"><p>
                        Punktdiagramm.
                    </p></li><li class="listitem"><p>
                        Linienpunktdiagramm.
                    </p></li><li class="listitem"><p>
                        Flächendiagramm.
                    </p></li><li class="listitem"><p>
                        Tortendiagramm.
                    </p></li></ul></div><p>
            </p></li><li class="listitem"><p>
                <span class="emphasis"><em>Grafikgröße</em></span>. Hier kann ausgewählt werden, in welchen
Größen (Pixel) die Diagramme ausgegeben werden dürfen. Diese Auswahl ist nur
sinnvoll, wenn unter dem Punkt "Format" ein grafisches Ausgabeformat
ausgewählt wurde. Alle generell verwendbaren Grafikgrößen werden durch den
OTRS-Admin in der SysConfig definiert. Bei der Konfiguration der Statistiken
kann der Ersteller alle relevanten Formate vorselektieren.
            </p></li><li class="listitem"><p>
                <span class="emphasis"><em>Zeilensummierung</em></span>. Wird im "Ja" ausgewählt, wird die
Statistik durch eine Spalte ergänzt, deren Zellen die Summe der jeweiligen
Zeile darstellt.
            </p></li><li class="listitem"><p>
                <span class="emphasis"><em>Spaltensummierung</em></span>. Angabe, ob die Statistik durch eine
Zeile ergänzt wird, deren Zellen die Summe der jeweiligen Spalte
beinhaltet.
            </p></li><li class="listitem"><p>
                <span class="emphasis"><em>Cache</em></span>. Wird im "Ja" ausgewählt, werden die errechneten
Statistiken im Dateisystem gecacht. Dies spart Rechenleistung und Zeit,
sollte genau diese Statistik wieder aufgerufen werden. Diese Funktion ist
jedoch nur sinnvoll, wenn sichergestellt ist, dass sich der Inhalt der
Statistik nicht mehr ändert. Dies ist genau zu prüfen, bevor man die
Cachingfunktion nutzt.
            </p><p>
                Caching wird automatisch verhindert, wenn die Statistik keinerlei
Zeitangaben enthält (es kommen laufend neue Daten hinzu) oder wenn eine
Zeitangabe in der Zukunft liegt.
            </p><p>
                Sollte eine Statistik zwischenzeitlich wieder bearbeitet werden, werden alle
gecachten Daten wieder gelöscht.
            </p></li><li class="listitem"><p>
                            <span class="emphasis"><em>Gültig</em></span>. Ist eine vorkonfigurierte Statistik erst im
Entstehen oder darf sie aus bestimmten Gründen temporär nicht mehr
ausgeführt werden so wird das Element "Gültig" auf "ungültig"
gesetzt. Ferner wird dadurch die Schaltfläche "Start" rechts unten am Ende
des Block ausgeblendet. Ein Generieren der Statistik ist somit nicht
möglich.
            </p></li></ul></div><p>
    </p></li><li class="listitem"><p>
        <span class="emphasis"><em>Definition des Elements für die X-Achse</em></span>. Hier wird
eingestellt welches Element für die Darstellung der X-Achse verwendet wird,
bzw. bei Tabellen, welche Spaltenbezeichnung die Statistik bekommt.
    </p><p>
    </p><div class="screenshot"><div><img src="screenshots/stats-edit-xaxis.png"></div></div><p>
    </p><p>
        <span class="emphasis"><em>Abb.: Definition des Elements für die X-Achse.</em></span>
    </p><p>
    Als erstes wählt man ein Element per Optionsfeld aus. Anschließend müssen
zwei oder mehr Attribute des Elements selektiert werden. Werden keine
Attribute des Elements ausgewählt, werden alle Attribute verwendet, auch
solche die nach der Konfiguration der Statistik hinzukommen.
    </p><p>
    Entfernt man den Haken "Fixiert" in der Checkbox, kann der Agent, der die
Statistik erstellt, die Attribute des entsprechenden Elements in der
"Ansehen"-Oberfläche verändern.
    </p><p>
    Eine Besonderheit stellen Zeitelemente dar, hier ist die Zeitspanne und die
Skalierung anzugeben. Die Art und Anzahl der Elemente ergibt sich durch das
verwendete dynamische Objekt und ist von Objekt zu Objekt verschieden.
    </p><p>
    Wurden alle Eingaben richtig getätigt, gelangt man nach der Auswahl des
"Weiter" Schalters zu dem Formular "Wertereihen". Ebenfalls gibt es die
Möglichkeit, einen Bearbeitungsschritt zurück zu gehen und nochmals die
Oberfläche "Allgemeine Angaben" zu bearbeiten.
    </p></li><li class="listitem"><p>
        <span class="emphasis"><em>Wertereihen</em></span>.
    </p><p>
    Im dritten Schritt der Vorkonfiguration einer Statistik werden die
Wertereihen der Statistik festgelegt. Sie bilden später die einzelnen Grafen
des Diagramms (grafische Darstellung) oder die einzelnen Reihen
(tabellarische Darstellung).
    </p><p>
    </p><div class="screenshot"><div><img src="screenshots/stats-edit-valueseries.png"></div></div><p>
    </p><p>
        <span class="emphasis"><em>Abb.: Festlegen der Wertereihen.</em></span>
    </p><p>
    Wird ein Element selektiert, entspricht jedes ausgewählte Attribut einer
Wertereihe.
    </p><p>
    </p><div class="example"><a name="stats-value-series-1"></a><p class="title"><b>Beispiel 4.19. Festlegen einer Wertereihe bei einem Element</b></p><div class="example-contents"><p>
    Element Queue:
    </p><p>
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
            Wertereihe 1 = Raw
            </p></li><li class="listitem"><p>
            Wertereihe 2 = Junk
            </p></li><li class="listitem"><p>
            ....
            </p></li></ul></div><p>
    </p></div></div><p><br class="example-break">
    </p><p>
    Werden zwei Elemente selektiert, wird jedes ausgewählte Attribut des ersten
Elements kombiniert mit einem Attribut des zweiten Elements zu einer
Wertereihe.
    </p><p>
    </p><div class="example"><a name="stats-value-series-2"></a><p class="title"><b>Beispiel 4.20. Festlegen einer Wertereihe bei zwei Elementen </b></p><div class="example-contents"><p>
    Element 1 Queue, Element 2 Status:
    </p><p>
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
            Wertereihe 1 = Raw - offen
            </p></li><li class="listitem"><p>
            Wertereihe 2 = Raw - erfolgreich geschlossen
            </p></li><li class="listitem"><p>
            Wertereihe 3 = Junk - offen
            </p></li><li class="listitem"><p>
            Wertereihe 4 = Junk - erfolgreich geschlossen
            </p></li></ul></div><p>
    </p></div></div><p><br class="example-break">
    </p><p>
    Die Auswahl von drei oder mehr Elementen ist nicht sinnvoll und wird deshalb
durch eine Fehlermeldung verhindert.
    </p><p>
    Ferner gelten noch die gleichen Bedingungen zur Auswahl der Attribute und
zur "Fixiert" Checkbox wie bei der "X-Achsen" Auswahl.
    </p><p>
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
            Werden keine Attribute des Elements ausgewählt, werden alle Attribute
verwendet, auch solche die nach der Konfiguration der Statistik
hinzukommen.
            </p></li><li class="listitem"><p>
            Entfernt man den Haken "Fixiert" in der Checkbox, kann der Agent der die
Statistik erstellt, die Attribute des entsprechenden Elements verändern.
            </p></li></ul></div><p>
    </p></li><li class="listitem"><p>
        <span class="emphasis"><em>Festlegen der Einschränkungen</em></span>. Vierter und letzter
Schritt bei der Vorkonfiguration ist das Festlegen der Einschränkungen. Hier
ist es möglich die Ergebnisse einer Statistik durch die Angabe von
Bedingungen einzuschränken. Vergleichbar ist dies mit Eingaben in eine
Such-Oberfläche.
    </p><p>
    </p><div class="screenshot"><div><img src="screenshots/stats-edit-restrictions.png"></div></div><p>
    </p><p>
        <span class="emphasis"><em>Abb.: Festlegen der Einschränkungen.</em></span>
    </p><p>
    Nachdem man alle Einschränkungen getätigt hat, drückt man den Button
"Abschließen". Dadurch beendet man die Vorkonfiguration der Statistik und
gelangt in die "Ansehen" Oberfläche.
    </p></li></ol></div><p>
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-import"></a>Importieren</h4></div></div></div><p>
Durch die Auswahl des "Import"-Menüpunkts im Statistikmenü der
Navigationsleiste oder durch den "Import"-Knopf in der Übersichtsmaske
gelangt man in die Importoberfläche ("rw"-Rechte erforderlich).
</p><p>
</p><div class="screenshot"><div><img src="screenshots/stats-import.png"></div></div><p>
</p><p>
    <span class="emphasis"><em>Abb.: Die Import-Oberfläche.</em></span>
</p><p>
Durch sie können Statistiken importiert werden. Dies ist im Zusammenhang mit
der Exportfunktion des Moduls eine sehr hilfreiche Funktionalität. So können
Statistiken bequem auf Testsystemen entworfen und getestet werden, um sie
später auf dem Produktivsystem zu importieren.
</p><p>
Der Import geschieht dabei ganz einfach durch einen
Dateiupload. Anschließend gelangt man automatisch in die Detailansicht der
importierten Statistik.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="stats-managing-the-module"></a>Verwaltung des Statistik-Moduls durch den OTRS-Administrator</h3></div></div></div><p>
In diesem Abschnitt werden die Aufgaben und Möglichkeiten des
OTRS-Administrators in Bezug auf das Statistikmodul angesprochen.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-permissions"></a>Rechte, Gruppen und Queues</h4></div></div></div><p>
Durch die Installation des Statistikmoduls werden keine neuen Queues
oder/und Gruppen angelegt.
</p><p>
Durch die Standardkonfiguration der Modulregistrierung haben alle Agenten,
die Rechte in der "stats"-Gruppe haben, Zugriff auf das Statistikmodul.
</p><p>
Zugangsmöglichkeiten aufgrund der Rechte:
</p><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
            <span class="emphasis"><em>rw</em></span>. Darf Statistiken konfigurieren.
        </p></li><li class="listitem"><p>
            <span class="emphasis"><em>ro</em></span>. Darf vorkonfigurierte Statistiken generieren.
        </p></li></ul></div><p>
</p><p>
Ob nun dem jeweiligen Agenten, der später vorkonfigurierte Statistiken
generieren darf, ro-Rechte in der "stats" Gruppe zugewiesen werden oder in
der Modulregistrierung der SysConfig die dem Agent entsprechenden Gruppen
ergänzt werden, bleibt dem OTRS-Administrator und dessen Anforderungen
überlassen.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-sysconfig"></a>Die SysConfig (Verwaltung der Systemkonfiguration)</h4></div></div></div><p>
Die SysConfig-Gruppen <a class="link" href="">Framework:Core::Stats</a>, <a class="link" href="">Framework:Core::Stats::Graph</a>
und <a class="link" href="">Framework:Frontend::Agent::Stats</a>
enthalten alle Konfigurationsparameter zur grundlegenden Einstellung des
Statistik-Moduls. Weiterhin regelt der Konfigurationsparameter <a class="link" href="ConfigReference_Framework.html#Framework:Frontend::Agent::ModuleRegistration:Frontend::Module_AgentStats" title="Frontend::Module###AgentStats">$Self-&gt;{'Frontend::Module'}-&gt;{'AgentStats'}</a>die
Anordnung und Registrierung der Module und Icons innerhalb des
Statistik-Moduls selbst.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="stats-managing-the-stats-module-by-the-sysadmin"></a>Verwaltung des Statistik-Moduls durch den System-Administrator</h3></div></div></div><p>
Grundsätzlich ist bei der Bedienung, Konfiguration und Wartung des
Statistikmoduls kein System-Administrator notwendig. An dieser Stelle sollen
nur einige Hintergrundinformationen für den System-Administrator gegeben
werden.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
Pfadangaben beziehen sich auf Unterverzeichnisse des OTRS-Homeverzeichnisses
(meist <code class="filename">/opt/otrs</code>).
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-db-table"></a>Datenbanktabelle</h4></div></div></div><p>
Alle Statistikkonfigurationen werden in XML umgesetzt und verwaltet. Dies
bedeutet unter anderem, dass alle Statistikkonfigurationen in der
Datenbanktabelle "xml_storage" gespeichert werden. Diese Tabelle wird auch
von anderen Modulen benutzt, deren Inhalte im XML-Format dargestellt werden.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-filelist"></a>Auflistung aller Dateien</h4></div></div></div><p>
Folgende Dateien sind für die fehlerfreie Funktion des Statistikmoduls
notwendig.
</p><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
        <code class="filename">Kernel/System/Stats.pm</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/Modules/AgentStats.pm</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/System/CSV.pm</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/Output/HTML/Standard/AgentStatsOverview.dtl</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/Output/HTML/Standard/AgentStatsDelete.dtl</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/Output/HTML/Standard/AgentStatsEditSpecification.dtl</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/Output/HTML/Standard/AgentStatsEditRestrictions.dtl</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/Output/HTML/Standard/AgentStatsEditXaxis.dtl</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/Output/HTML/Standard/AgentStatsEditValueSeries.dtl</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/Output/HTML/Standard/AgentStatsImport.dtl</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/Output/HTML/Standard/AgentStatsPrint.dtl</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/Output/HTML/Standard/AgentStatsView.dtl</code>
        </p></li><li class="listitem"><p>
        <code class="filename">Kernel/System/Stats/Dynamic/Ticket.pm</code>
        </p></li><li class="listitem"><p>
        <code class="filename">bin/otrs.GenerateStats.pl</code>
        </p></li></ul></div><p>
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-caching"></a>Caching</h4></div></div></div><p>
Bei der Vorkonfiguration von Statistiken kann eingestellt werden, ob die
Ergebnisse einer Statistik gecachet werden oder nicht. Statistikergebnisse,
die in den Cache geschrieben werden sollen, werden als Datei im Verzeichnis
<code class="filename">var/tmp</code> der OTRS-Installation gespeichert (meist
<code class="filename">/opt/otrs/var/tmp</code>).
</p><p>
Alle gecacheten Statistiken sind dabei durch das Präfix "Stats" zu erkennen.
</p><p>
Sollten diese Dateien verloren gehen, ist dies nicht weiter schlimm. Beim
nächsten Aufruf dieser Statistik kann das Statistikmodul diese Datei nicht
mehr finden und muss deshalb die Statistik neu errechnen, was etwas Zeit
beanspruchen kann.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-mkstats"></a>otrs.GenerateStats.pl</h4></div></div></div><p>
Diese Datei befindet sich im Verzeichnis <code class="filename">bin/</code>. Durch
sie ist es möglich, Statistiken auf der Kommandozeile zu generieren.
</p><p>
Exemplarisch soll hierzu folgender Kommandozeilenaufruf angegeben werden:
</p><p>
</p><pre class="programlisting">
bin&gt; perl otrs.GenerateStats.pl -n 10004 -o /output/dir
</pre><p>
</p><p>
    <span class="emphasis"><em>Skript: Generieren einer Statistik auf der
Kommandozeile.</em></span>
</p><p>
Dabei wird eine Statistik aus der Statistikkonfiguration "Stat# 10004"
generiert und als csv in das Verzeichnis <code class="filename">/output/dir</code>
gespeichert.
</p><p>
Ferner kann die generierte Statistik auch per Email versandt werden. Mehr
Informationen erhält man wie im Skript geschildert.
</p><p>
</p><pre class="programlisting">
bin&gt; perl otrs.GenerateStats.pl --help
</pre><p>
</p><p>
    <span class="emphasis"><em>Skript: Aufruf der Hilfe von otrs.GenerateStats.pl.</em></span>
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-cron"></a>Automatisiertes Generieren von Statistiken - Cron</h4></div></div></div><p>
Sinnvoll ist das Generieren von Statistiken per Hand über die Kommandozeile
natürlich nicht unbedingt, da das Statistikmodul eine geeignete grafische
Oberfläche bietet. Interessant wird die Generierung von Statistiken per
Kommandozeile aber in Kombination mit einem Cronjob.
</p><p>
Folgendes Szenario ist denkbar: Ein Abteilungsleiter wünscht pünktlich zum
ersten eines Monats eine Statistik zum abgelaufenen Monat. Durch die
Kombination Cronjob und Kommandozeilenaufruf ist man in der Lage
automatisiert zu Beginn eines Monats dem Abteilungsleiter die gewünschte
Statistik per Email zukommen zu lassen.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-static"></a>Statische Statistiken</h4></div></div></div><p>
Das Statistikmodul bietet die Möglichkeit statische Statistiken zu
generieren. Für jede statische Statistik gibt es eine Datei, in der die
Inhalte der Statistik genau definiert sind.
</p><p>
Vorteil dieser Art von Statistik ist, dass dadurch sehr komplexe Statistiken
erzeugt werden können. Der Nachteil ist wiederum die mangelnde Flexibilität
dieser Statistiken.
</p><p>
Gespeichert werden diese Dateien unter folgendem Pfad:
<code class="filename">Kernel/System/Stats/Static/</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-using-old-stats"></a>Wiederverwerten alter statischer Statistiken</h4></div></div></div><p>
Bereits OTRS 1.3 und 2.0 boten die Möglichkeit Statistiken zu
generieren. Eine Vielzahl der Statistiken, die für OTRS-Versionen 1.3 und
2.0 speziell auf Kundenwunsch entwickelt wurden, können wiederverwendet
werden.
</p><p>Diese Dateien müssen hierzu lediglich aus dem Pfad
<code class="filename">Kernel/System/Stats/</code> in den Pfad
<code class="filename">Kernel/System/Stats/Static/</code> verschoben werden. Ferner
muss die Paketangabe des jeweiligen Skripts um "::Static" ergänzt werden.
</p><p>
Das folgende Beispiel zeigt die Erweiterung des Paketnamens.
</p><p>
</p><pre class="programlisting">
    package Kernel::System::Stats::AccountedTime;
</pre><p>
</p><p>
</p><pre class="programlisting">
    package Kernel::System::Stats::Static::AccountedTime;
</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="stats-default-stats"></a>Standardstatistiken</h4></div></div></div><p>"Man muss das Rad nicht immer neu erfinden."
</p><p>
Deshalb liefert das Statistikmodul automatisch Standardstatistiken
mit. Statistiken, die für alle OTRS-Benutzer interessant sind, werden
zukünftig als Defaultstatistik im Statistik-Modul-Paket ergänzt. Gespeichert
werden die Defaultstatistiken im XML-Format des Statistikmoduls im
Verzeichnis <code class="filename">scripts/test/sample/</code>.
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pdf-output.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="administration.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="dynamicfields.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">Customizing the PDF output </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> Dynamic Fields</td></tr></table></div></body></html>
