<html><head>
<!-- otrs.github.io -->
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../../../documentation.css">
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../../../../../documentation.js"></script>
<link rel="icon" type="image/png" sizes="32x32" href="../../../../../../images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../../../images/favicon-16x16.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
<script>
$(document).ready(function() {

    // Hint languages to prevent false matches (php for example).
    hljs.configure({
        languages: ['perl', 'javascript', 'xml', 'html', 'css', 'json', 'yaml']
    });

    // programlistings in manuals
    $('pre.programlisting').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    // code snippets in Perl API docs
    $('.pod pre').addClass('perl').each(function(i, block) {
        hljs.highlightBlock(block);
    });
});</script>
<!-- otrs.github.io -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Kódolási stílus irányelvek</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="OTRS 5 - Fejlesztői kézikönyv"><link rel="up" href="contributing.html" title="5. fejezet - Közreműködés az OTRS-ben"><link rel="prev" href="translating-docs.html" title="A dokumentáció fordítása"><link rel="next" href="ui-design.html" title="Felhasználó felület tervezése"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Kódolási stílus irányelvek</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="translating-docs.html">Vissza</a> </td><th width="60%" align="center">5. fejezet - Közreműködés az OTRS-ben</th><td width="20%" align="right"> <a accesskey="n" href="ui-design.html">Előre</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="code-style-guide"></a>Kódolási stílus irányelvek</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="code-style-guide.html#code-style-guide-perl">Perl</a></span></dt><dd><dl><dt><span class="section"><a href="code-style-guide.html#formatting">Formázás</a></span></dt><dd><dl><dt><span class="section"><a href="code-style-guide.html#whitespace">Üres karakterek</a></span></dt><dt><span class="section"><a href="code-style-guide.html#line-length">A sorok hossza</a></span></dt><dt><span class="section"><a href="code-style-guide.html#parentheses">Szóközök és zárójelek</a></span></dt><dt><span class="section"><a href="code-style-guide.html#source-code-header">Forráskód fejléc és karakterkódolás</a></span></dt></dl></dd><dt><span class="section"><a href="code-style-guide.html#using-perl-language">A Perl nyelv használata</a></span></dt><dd><dl><dt><span class="section"><a href="code-style-guide.html#control-flow">Vezérlési folyamat</a></span></dt><dt><span class="section"><a href="code-style-guide.html#builtin-sub-restrictions">Néhány beépített Perl szubrutin használatának korlátozása</a></span></dt><dt><span class="section"><a href="code-style-guide.html#regular-expressions">Reguláris kifejezések</a></span></dt><dt><span class="section"><a href="code-style-guide.html#naming">Elnevezés</a></span></dt><dt><span class="section"><a href="code-style-guide.html#variables">Változók</a></span></dt><dt><span class="section"><a href="code-style-guide.html#subroutines">Szubrutinok</a></span></dt><dt><span class="section"><a href="code-style-guide.html#packages">Csomagok</a></span></dt></dl></dd><dt><span class="section"><a href="code-style-guide.html#documentation">Jó dokumentáció írása</a></span></dt><dd><dl><dt><span class="section"><a href="code-style-guide.html#perldoc">Perldoc</a></span></dt><dt><span class="section"><a href="code-style-guide.html#code-style-guide-perl-code-comments">Kódmagyarázatok</a></span></dt></dl></dd><dt><span class="section"><a href="code-style-guide.html#database-interaction">Adatbázis kölcsönhatás</a></span></dt><dd><dl><dt><span class="section"><a href="code-style-guide.html#database-sql-statements">SQL-utasítások deklarációja</a></span></dt><dt><span class="section"><a href="code-style-guide.html#database-returning-on-errors">Visszatérés hibák esetén</a></span></dt><dt><span class="section"><a href="code-style-guide.html#database-using-limit">Korlát használata</a></span></dt><dt><span class="section"><a href="code-style-guide.html#database-using-while-loop">A <code class="literal">while</code> ciklus használata</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="code-style-guide.html#code-style-guide-javascript">JavaScript</a></span></dt><dd><dl><dt><span class="section"><a href="code-style-guide.html#id-1.6.6.4.2">Böngészőkezelés</a></span></dt><dt><span class="section"><a href="code-style-guide.html#id-1.6.6.4.3">Könyvtárszerkezet</a></span></dt><dd><dl><dt><span class="section"><a href="code-style-guide.html#id-1.6.6.4.3.4">Harmadik féltől származó kód</a></span></dt></dl></dd><dt><span class="section"><a href="code-style-guide.html#id-1.6.6.4.4">Változók</a></span></dt><dt><span class="section"><a href="code-style-guide.html#id-1.6.6.4.5">Függvények</a></span></dt><dt><span class="section"><a href="code-style-guide.html#id-1.6.6.4.6">Névterek</a></span></dt><dt><span class="section"><a href="code-style-guide.html#code-style-guide-javascript-code-comments">Kódmagyarázatok</a></span></dt><dt><span class="section"><a href="code-style-guide.html#id-1.6.6.4.8">Eseménykezelés</a></span></dt></dl></dd><dt><span class="section"><a href="code-style-guide.html#code-style-guide-css">CSS</a></span></dt><dd><dl><dt><span class="section"><a href="code-style-guide.html#id-1.6.6.5.3">Szerkezet</a></span></dt><dt><span class="section"><a href="code-style-guide.html#id-1.6.6.5.4">Stílus</a></span></dt></dl></dd></dl></div><p>
        Az OTRS projekt következetes fejlesztésének megtartása érdekében
irányelveket fektettünk le a stílusra vonatkozóan a különböző
programnyelvekhez.
    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="code-style-guide-perl"></a>Perl</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="formatting"></a>Formázás</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="whitespace"></a>Üres karakterek</h5></div></div></div><p>
                TABULÁTOR: 4 szóközt használunk. Példa a zárójelekre:
            </p><p>
                </p><pre class="programlisting">
if ($Feltétel) {
    Izé();
}
else {
    Bigyó();
}

while ($Feltétel == 1) {
    Izé();
}
                
                </pre><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="line-length"></a>A sorok hossza</h5></div></div></div><p>
                A sorok általában nem lehetnek hosszabbak 120 karakternél, hacsak ez
különleges okok miatt nem szükséges.
            </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="parentheses"></a>Szóközök és zárójelek</h5></div></div></div><p>
                A jobb olvashatóság érdekében szóközöket használunk a kulcsszavak és a nyitó
zárójelek között.
            </p><p>
                </p><pre class="programlisting">
if ()...
for ()...
                
                </pre><p>
            </p><p>
                Ha csak egy egyedülálló változó van, akkor a zárójelek belül szóközök nélkül
veszik körbe a változót.
            </p><p>
                </p><pre class="programlisting">
if ($Feltétel) { ... }

# e helyett

if ( $Feltétel ) { ... }
                
                </pre><p>
            </p><p>
                Ha a feltétel nem csak egy egyedülálló változó, akkor szóközöket használunk
a zárójelek és a feltétel között. És továbbra is szóköz van a kulcsszó
(például <code class="literal">if</code>) és a nyitó zárójel között.
            </p><p>
                </p><pre class="programlisting">
if ( $Feltétel &amp;&amp; $ABC ) { ... }
                
                </pre><p>
            </p><p>
                Ne feledje, hogy a Perl beépített függvényeinél nem használunk zárójeleket:
            </p><p>
                </p><pre class="programlisting">
chomp $Variable;
                
                </pre><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="source-code-header"></a>Forráskód fejléc és karakterkódolás</h5></div></div></div><p>
                Csatolja hozzá a következő fejlécet minden egyes forrásfájlhoz. A
forrásfájlok UTF-8 karakterkódolással vannak elmentve.
            </p><p>
                </p><pre class="programlisting">
# --
# (file name) - a short description what it does
# Copyright (C) 2001-2019 OTRS AG, https://otrs.com/
# --
# This software comes with ABSOLUTELY NO WARRANTY. For details, see
# the enclosed file COPYING for license information (GPL). If you
# did not receive this file, see https://www.gnu.org/licenses/gpl-3.0.txt.
# --
                
                </pre><p>
            </p><p>
                A végrehajtható fájloknak (<code class="filename">*.pl</code>) különleges fejlécük
van.
            </p><p>
                </p><pre class="programlisting">
#!/usr/bin/perl
# --
# (file name) - a short description what it does
# Copyright (C) 2001-2019 OTRS AG, https://otrs.com/
# --
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program. If not, see https://www.gnu.org/licenses/gpl-3.0.txt.
# --
                
                </pre><p>
            </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="using-perl-language"></a>A Perl nyelv használata</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="control-flow"></a>Vezérlési folyamat</h5></div></div></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="conditions"></a>Feltételek</h6></div></div></div><p>
                    A feltételek meglehetősen összetettek lehetnek, és lehetnek „láncolt”
feltételek is (logikai „és” vagy „vagy” operátorral összekapcsolva). Az OTRS
kódolásakor tisztában kell lennie számos helyzettel.
                </p><p>
                    A bevált Perl gyakorlatok azt mondják, hogy a magas precedenciájú
operátorokat (<code class="literal">&amp;&amp;</code> és <code class="literal">||</code>) nem
kellene keverni az alacsony precedenciájú operátorokkal
(<code class="literal">and</code> és <code class="literal">or</code>). A zűrzavar elkerülése
érdekében mindig a magas precedenciájú operátorokat használjuk.
                </p><p>
                    </p><pre class="programlisting">
if ( $Condition1 &amp;&amp; $Condition2 ) { ... }

# e helyett

if ( $Condition and $Condition2 ) { ... }
                    
                    </pre><p>
                </p><p>
                    Ez azt jelenti, hogy tisztában kell lennie a buktatókkal. Néha zárójeleket
kell használnia, hogy világossá tegye, mit szeretne.
                </p><p>
                    Ha hosszú feltételei vannak (a sor 120 karakternél hosszabb), akkor több
sorra kell tördelnie azt. Továbbá a feltételek kezdete egy új sorban van
(nem az <code class="literal">if</code> sorában).
                </p><p>
                    </p><pre class="programlisting">
if (
    $Feltétel1
    &amp;&amp; $Feltétel2
    )
{ ... }

# e helyett:

if ( $Feltétel1
    &amp;&amp; $Feltétel2
    )
{ ... }
                    
                    </pre><p>
                </p><p>
                    Jegyezze meg azt is, hogy a jobboldali zárójel egyedül áll a sorban,
valamint a baloldali kapcsos zárójel szintén új sorban van, és ugyanolyan
behúzással rendelkezik mint az <code class="literal">if</code>. Az operátorok egy új
sor elején vannak! A következő példák bemutatják, hogyan kell ezt csinálni…
                </p><p>
                    </p><pre class="programlisting">
if (
    $XMLHash[0]-&gt;{otrs_stats}[1]{StatType}[1]{Content}
    &amp;&amp; $XMLHash[0]-&gt;{otrs_stats}[1]{StatType}[1]{Content} eq 'static'
    )
{ ... }

if ( $TemplateName eq 'AgentTicketCustomer' ) {
    ...
}

if (
    ( $Param{Section} eq 'Xaxis' || $Param{Section} eq 'All' )
    &amp;&amp; $StatData{StatType} eq 'dynamic'
    )
{ ... }

if (
    $Self-&gt;{TimeObject}-&gt;TimeStamp2SystemTime( String =&gt; $Cell-&gt;{TimeStop} )
    &gt; $Self-&gt;{TimeObject}-&gt;TimeStamp2SystemTime(
        String =&gt; $ValueSeries{$Row}{$TimeStop}
    )
    || $Self-&gt;{TimeObject}-&gt;TimeStamp2SystemTime( String =&gt; $Cell-&gt;{TimeStart} )
    &lt; $Self-&gt;{TimeObject}-&gt;TimeStamp2SystemTime(
        String =&gt; $ValueSeries{$Row}{$TimeStart}
    )
    )
{ ... }
                    
                    </pre><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="postfix-if"></a>Hátul álló <code class="literal">if</code></h6></div></div></div><p>
                    Általánosan azért használunk „hátul álló <code class="literal">if</code>”
utasításokat, hogy csökkentsük a szintek számát. De ne használjuk többsoros
utasításoknál, és csak akkor megengedett, amikor visszatérési utasításokat
hoz magával a függvény, vagy egy ciklus befejezéséhez, illetve a következő
iterációra való ugráshoz.
                </p><p>
                    Ez helyes:
                </p><p>
                    </p><pre class="programlisting">
next ITEM if !$ItemId;
                    
                    </pre><p>
                </p><p>
                    Ez hibás:
                </p><p>
                    </p><pre class="programlisting">
return $Self-&gt;{LogObject}-&gt;Log(
    Priority =&gt; 'error',
    Message  =&gt; 'ItemID szükséges!',
) if !$ItemId;
                    
                    </pre><p>
                </p><p>
                    Ez kevésbé karbantartható ennél:
                </p><p>
                    </p><pre class="programlisting">
if( !$ItemId ) {
    $Self-&gt;{LogObject}-&gt;Log( ... );
    return;
}
                    
                    </pre><p>
                </p><p>
                    Ez helyes:
                </p><p>
                    </p><pre class="programlisting">
for my $Needed (1..10) {
    next if $Needed == 5;
    last  if $Needed == 9;
}
                    
                    </pre><p>
                </p><p>
                    Ez hibás:
                </p><p>
                    </p><pre class="programlisting">
my $Var = 1 if $Something == 'Yes';
                    
                    </pre><p>
                </p></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="builtin-sub-restrictions"></a>Néhány beépített Perl szubrutin használatának korlátozása</h5></div></div></div><p>
                A Perl néhány beépített szubrutinját nem lehet használni semmilyen helyen:
            </p><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Ne használja a <code class="literal">die</code> és <code class="literal">exit</code>
szubrutinokat a <code class="filename">.pm</code> fájlokban.</p></li><li class="listitem"><p>Ne használja a <code class="literal">Dumper</code> függvényt a kiadott fájlokban.</p></li><li class="listitem"><p>Ne használja a <code class="literal">print</code> utasítást a <code class="filename">.pm</code>
fájlokban.</p></li><li class="listitem"><p>Ne használja a <code class="literal">require</code> kulcsszót, inkább használja a
<code class="literal">Main::Require()</code> metódust.</p></li><li class="listitem"><p>Használja a <code class="literal">TimeObject</code> függvényeit az olyan beépített
függvények helyett, mint például a <code class="literal">time()</code>,
<code class="literal">localtime()</code>, stb.</p></li></ul></div><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="regular-expressions"></a>Reguláris kifejezések</h5></div></div></div><p>
                A reguláris kifejezéseknél mindig kapcsos zárójelekkel használjuk az
<code class="literal">m//</code> operátort elválasztóként. Használjuk az
<code class="literal">x</code>, <code class="literal">m</code> és <code class="literal">s</code>
módosítókat is. Az <code class="literal">x</code> módosítók lehetővé teszik a
reguláris kifejezések megjegyzéssel történő ellátását, és szóközök
használatát a logikai csoportok „csoportosításához”.
            </p><p>
                </p><pre class="programlisting">
$Date =~ m{ \A \d{4} - \d{2} - \d{2} \z }xms
$Date =~ m{
    \A      # a szöveg kezdete
    \d{4} - # év
    \d{2} - # hónap
    [^\n]   # minden, kivéve az új sort
    #..
}xms;
    
                </pre><p>
            </p><p>
                Mivel a szóköznek többé nincs különleges jelentése, ezért egy egyedüli
karakterosztályt kell használnia egy egyedülálló szóköz illesztéséhez
(<code class="literal">[ ]</code>). Ha akármennyi szóközre szeretne illeszteni, akkor
azt a <code class="literal">\s</code> használatával teheti meg.
            </p><p>
                A reguláris kifejezésben a pont (<code class="literal">.</code>) tartalmazza az új
sort (minthogy az <code class="literal">s</code> módosító nélküli reguláris
kifejezésben a pont azt jelenti, hogy „minden, kivéve az új sor”). Ha
bármire szeretne illeszteni az új sort kivéve, akkor a tagadott egyedüli
karakterosztályt kell használnia (<code class="literal">[^\n]</code>).
            </p><p>
            </p><pre class="programlisting">
$Text =~ m{
    Teszt
    [ ]    # itt szóköznek kell lennie a „Teszt” és a „Regex” között
    Regex
}xms;
    </pre><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="naming"></a>Elnevezés</h5></div></div></div><p>
                A neveket és a megjegyzéseket angolul kell írni. A változókat, objektumokat
és metódusokat leíró főnevekkel vagy főnévi igenevekkel írjuk úgy, hogy az
első betű nagybetűs legyen (<a class="ulink" href="https://hu.wikipedia.org/wiki/CamelCase" target="_top">CamelCase</a>).
            </p><p>
                A neveknek annyira leírónak kell lenniük, amennyire csak lehetséges. Az
olvasónak egy név alapján meg kell tudni mondania, hogy az mit jelent
anélkül, hogy túl mélyre ásná magát a kódban. Például használja a
<code class="literal">$ConfigItemID</code> nevet az <code class="literal">$ID</code>
helyett. Példák: <code class="literal">@TicktIDs</code>, <code class="literal">$Output</code>,
<code class="literal">StateSet()</code>, stb.
            </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="variables"></a>Változók</h5></div></div></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="variable-declaration"></a>Deklaráció</h6></div></div></div><p>
                    Ha több változója van, akkor deklarálhatja azokat egyetlen sorban, ha azok
„összetartoznak”:
                </p><p>
                    </p><pre class="programlisting">
my ($Minute, $Hour, $Year);

                    </pre><p>
                </p><p>
                    Egyébként tördelje azokat külön sorokba:
                </p><p>
                    </p><pre class="programlisting">

my $Minute;
my $ID;
                    
                    </pre><p>
                </p><p>
                    Ne állítson be <code class="literal">undef</code> vagy <code class="literal">''</code> kezdeti
értéket a deklarációban, ugyanis ez elrejtheti a hibákat a kódban.
                </p><p>
                    </p><pre class="programlisting">
my $Variable = undef;

# ugyanaz mint

my $Variable;
                    
                    </pre><p>
                </p><p>
                    Akkor állíthat be egy változót <code class="literal">''</code> értékre, ha szövegeket
szeretne összefűzni:
                </p><p>
                    </p><pre class="programlisting">
my $SqlStatement = '';
for my $Part ( @Parts ) {
    $SqlStatement .= $Part;
}
                    
                    </pre><p>
                </p><p>
                    Egyébként „előkészítetlen” figyelmeztetést kaphat.
                </p></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="subroutines"></a>Szubrutinok</h5></div></div></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="subroutines-parameters"></a>Paraméterek kezelése</h6></div></div></div><p>
                    A szubrutinoknak átadott paraméterek lekéréséhez az OTRS normális esetben a
<code class="literal">%Param</code> kivonatot használja (nem a
<code class="literal">%Params</code> kivonatot). Ez jobban olvasható kódot eredményez,
mivel minden esetben tudjuk, hogy amikor <code class="literal">%Param</code> kivonatot
használjuk a szubrutin kódokban, akkor paraméterkivonat került átadásra a
szubrutinnak.
                </p><p>
                    Csak néhány kivételnél kell a paraméterek szabályos listáját használni. Így
el szeretnénk kerülni az ehhez hasonlókat:
                </p><p>
                    </p><pre class="programlisting">
sub TestSub {
    my ( $Self, $Param1, $Param2 ) = @_;
}
                    
                    </pre><p>
                </p><p>
                    Inkább ezt szeretnénk használni:
                </p><p>
                    </p><pre class="programlisting">
sub TestSub {
    my ( $Self, %Param ) = @_;
}
                    
                    </pre><p>
                </p><p>
                    Ennek számos előnye van: nem kell megváltoztatnunk a kódot a szubrutinban,
amikor egy új paramétert kell átadni, és egy elnevezett paraméterekkel
rendelkező függvény hívása sokkal olvashatóbb.
                </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="multiple-named-parameters"></a>Több elnevezett paraméter</h6></div></div></div><p>
                    Ha egy függvényhívás egynél több elnevezett paramétert igényel, akkor
tördelje azokat több sorba:
                </p><p>
                    </p><pre class="programlisting">
    $Self-&gt;{LogObject}-&gt;Log(
        Priority =&gt; 'error',
        Message  =&gt; "Need $Needed!",
    );
                    </pre><p>
                </p><p>
                    E helyett:
                </p><p>
                    </p><pre class="programlisting">
    $Self-&gt;{LogObject}-&gt;Log( Priority =&gt; 'error', Message  =&gt; "Need $Needed!", );
                    </pre><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="return-statements"></a><code class="literal">return</code> utasítások</h6></div></div></div><p>
                    A szubrutinoknak rendelkezniük kell egy <code class="literal">return</code>
utasítással. Az explicit <code class="literal">return</code> utasítás előnyben
részesített az implicit módszernél (az utolsó utasítás eredménye a
szubrutinban), mivel ez tisztázza, hogy mit ad vissza a szubrutin.
                </p><p>
                    </p><pre class="programlisting">
sub TestSub {
    ...
    return; # undef visszaadása, de nem az utolsó utasítás eredménye
}
                    
                    </pre><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="explicit-return-values"></a>Explicit visszatérési értékek</h6></div></div></div><p>
                    Az explicit visszatérési értékek azt jelentik, hogy nem kell egy
<code class="literal">return</code> utasítást tenni egy szubrutinhívást követően.
                </p><p>
                    </p><pre class="programlisting">
return $Self-&gt;{DBObject}-&gt;Do( ... );
                    
                    </pre><p>
                </p><p>
                    A következő példa jobb, mivel ez explicit módon megmondja, hogy mi kerül
visszaadásra. A fenti példával az olvasó nem tudja, hogy mi a visszatérési
érték, mivel nem tudhatja, hogy a <code class="literal">Do()</code> mit ad vissza.
                </p><p>
                    </p><pre class="programlisting">
return if !$Self-&gt;{DBObject}-&gt;Do( ... );
return 1;
                    
                    </pre><p>
                </p><p>
                    Ha egy szubrutin eredményét hozzárendeli egy változóhoz, akkor egy „jó”
változónév jelzi, hogy mi lett visszaadva:
                </p><p>
                    </p><pre class="programlisting">
my $SuccessfulInsert = $Self-&gt;{DBObject}-&gt;Do( ... );
return $SuccessfulInsert;
                    
                    </pre><p>
                </p></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="packages"></a>Csomagok</h5></div></div></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="packages-use"></a><code class="literal">use</code> utasítások</h6></div></div></div><p>
                    A <code class="literal">use strict</code> és <code class="literal">use warnings</code>
utasításoknak kell az első két „use”-nak lennie a modulban. Ez helyes:
                </p><p>
                    </p><pre class="programlisting">
package Kernel::System::ITSMConfigItem::History;

use strict;
use warnings;

use Kernel::System::User;
use Kernel::System::Time;
                    
                    </pre><p>
                </p><p>
                    Ez hibás:
                </p><p>
                    </p><pre class="programlisting">
package Kernel::System::ITSMConfigItem::History;

use Kernel::System::User;
use Kernel::System::Time;

use strict;
use warnings;
                    
                    </pre><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="objects-allocation"></a>Objektumok és azok lefoglalása</h6></div></div></div><p>
                    Az OTRS-ben sok objektum érhető el. De nem kell minden egyes objektumot
használnia minden fájlban az előtétprogram/háttérprogram elválasztásának
megtartásához.
                </p><p>
                    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Ne használja a <code class="literal">LayoutObject</code> objektumot az alapmodulokban
(<code class="filename">Kernel/System</code>).</p></li><li class="listitem"><p>Ne használja a <code class="literal">ParamObject</code> objektumot az alapmodulokban
(<code class="filename">Kernel/System</code>).</p></li><li class="listitem"><p>Ne használja a <code class="literal">DBObject</code> objektumot az előtétprogram
modulokban (<code class="filename">Kernel/Modules</code>).</p></li></ul></div><p>
                </p></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="documentation"></a>Jó dokumentáció írása</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="perldoc"></a>Perldoc</h5></div></div></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="documenting-subroutines"></a>Szubrutinok dokumentálása</h6></div></div></div><p>
                    A szubrutinokat mindig dokumentálni kell. A dokumentum tartalmaz egy
általános leírást arról, hogy mit csinál a szubrutin, egy minta
szubrutinhívást, és hogy mit ad vissza a szubrutin. Ezeknek ebben a
sorrendben kell lenniük. Egy minta dokumentáció így néz ki:
                </p><p>
                    </p><pre class="programlisting">
=item LastTimeObjectChanged()

calculates the last time the object was changed. It returns a hash reference with
    information about the object and the time.

    my $Info = $Object-&gt;LastTimeObjectChanged(
        Param =&gt; 'Value',
    );

This returns something like:

    my $Info = {
        ConfigItemID    =&gt; 1234,
        HistoryType     =&gt; 'foo',
        LastTimeChanged =&gt; '08.10.2009',
    };

=cut
                    </pre><p>
                </p><p>
                    Lemásolhat és beilleszthet egy <code class="literal">Data::Dumper</code> kimenetet a
visszatérési értékekhez.
                </p></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="code-style-guide-perl-code-comments"></a>Kódmagyarázatok</h5></div></div></div><p>
                Általánosságban meg kell próbálni olvashatóan és önmagát magyarázóan írni a
kódot, amennyire csak lehetséges. Ne írjon megjegyzést annak magyarázásához,
hogy a nyilvánvaló kód mit csinál, mert az szükségtelen megkettőzés. A jó
megjegyzéseknek azt kell elmagyarázniuk, hogy <span class="emphasis"><em>miért</em></span> van
valami a kódban, mik a lehetséges mellékhatások és bármi egyéb, amely
különleges lehet vagy szokatlanul bonyolult a kóddal kapcsolatban.
            </p><p>
                Ragaszkodjon a következő irányelvekhez:
            </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Tegye a kódot annyira olvashatóvá, hogy ne legyen szükség magyarázatra, ha
ez lehetséges.</span></dt><dd><p>
                            Mindig vonzóbb a kódot úgy írni, hogy nagyon olvasható és önmagát magyarázó
legyen, például pontos változónevekkel és függvénynevekkel.
                        </p></dd><dt><span class="term">Ne mondja el, amit a kód is elmond (száraz).</span></dt><dd><p>
                            Ne ismételjen (nyilvánvaló) kódot a magyarázatokban.
                        </p><pre class="programlisting">
# HIBÁS:

# beállítási objektum lekérése
my $ConfigObject = $Kernel::OM-&gt;Get('Kernel::Config');
                        </pre></dd><dt><span class="term">Azt dokumentálja, hogy a kód <span class="emphasis"><em>miért</em></span> van ott, és ne azt,
hogy hogyan működik.</span></dt><dd><p>
                            Általában a kódmagyarázatoknak a kód <span class="emphasis"><em>célját</em></span> kellene
elmagyarázniuk, és nem azt, hogy részletesen hogyan működik. Lehetnek
kivételek különösen bonyolult kódnál, de ebben az esetben egy átszerkesztés
lenne dicséretes, hogy olvashatóbb legyen.
                        </p></dd><dt><span class="term">Dokumentálja a buktatókat.</span></dt><dd><p>
                            Mindent dokumentálni kell, ami nem világos, furfangos vagy amit összerakott
a fejlesztés során.
                        </p></dd><dt><span class="term">Használjon teljes soros mondatszerű magyarázatokat az algoritmus
bekezdéseinek dokumentálásához.</span></dt><dd><p>
                            Mindig teljes mondatokat használjon (első betűt nagybetűvel írva és
központozással). Egy mondat következő sorait be kell húzni.
                        </p><pre class="programlisting">
# Annak ellenőrzése, hogy meg lett-e adva objektumnév.
if ( !$_[1] ) {
    $_[0]-&gt;_DieWithError(
        Error =&gt; "Hiba: hiányzó paraméter (objektumnév)",
    );
}

# Az objektum rögzítése, amelyet lekérni készülünk, hogy potenciálisan jobb
#   hibaüzenetet készíthessünk.
# Utasításmódosító „if”-nek kell lennie, különben a „local” helyi lesz az
#   „if”-blokk hatóköréhez képest.
local $CurrentObject = $_[1] if !$CurrentObject;
                        </pre></dd><dt><span class="term">Használjon rövid sorvégi magyarázatokat a részletes információk
hozzáadásához.</span></dt><dd><p>
                            Ez lehet vagy teljes mondat (nagy kezdőbetű és központozás), vagy csak egy
kifejezés (kis kezdőbetű és nincs központozás).
                        </p><pre class="programlisting">
$BuildMode = oct $Param{Mode};   # oktális *típusról*, nem oktális *típusra*

# vagy

$BuildMode = oct $Param{Mode};   # Átalakítás oktális *típusról*, nem oktális *típusra*.

                        </pre></dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="database-interaction"></a>Adatbázis kölcsönhatás</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="database-sql-statements"></a>SQL-utasítások deklarációja</h5></div></div></div><p>
                Ha nincs esély az SQL-utasítás megváltoztatására, akkor azt a
<code class="literal">Prepare</code> függvényben kell használni. Ennek az az oka, hogy
az SQL-utasítás és a kötési paraméterek közelebb vannak egymáshoz.
            </p><p>
                Az SQL-utasítást egy összefűzések nélküli, pontosan behúzott szövegként kell
megírni úgy, mint például ezt:
            </p><p>
                </p><pre class="programlisting">
return if !$Self-&gt;{DBObject}-&gt;Prepare(
    SQL =&gt; '
        SELECT art.id
        FROM article art, article_sender_type ast
        WHERE art.ticket_id = ?
            AND art.article_sender_type_id = ast.id
            AND ast.name = ?
        ORDER BY art.id',
    Bind =&gt; [ \$Param{TicketID}, \$Param{SenderType} ],
);
                </pre><p>
            </p><p>
                Ezt könnyű olvasni és módosítani, és az üres karaktereket jól tudják kezelni
a támogatott DBMS-ek. Az automatikusan előállított SQL-kódnál (mint a
<code class="literal">TicketSearch</code> modulban) ez a behúzás nem szükséges.
            </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="database-returning-on-errors"></a>Visszatérés hibák esetén</h5></div></div></div><p>
                Valahányszor adatbázis-függvényeket használ, kezelnie kell a hibákat. Ha
valami elromlik, az visszakerül a szubrutinból:
            </p><p>
                </p><pre class="programlisting">
return if !$Self-&gt;{DBObject}-&gt;Prepare( ... );
                </pre><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="database-using-limit"></a>Korlát használata</h5></div></div></div><p>
                Használja a <code class="literal">Limit =&gt; 1</code> korlátozást, ha csak egyetlen sort
vár visszatérésként.
            </p><p>
                </p><pre class="programlisting">
$Self-&gt;{DBObject}-&gt;Prepare(
    SQL   =&gt; 'SELECT id FROM users WHERE username = ?',
    Bind  =&gt; [ \$Username ],
    Limit =&gt; 1,
);
                </pre><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="database-using-while-loop"></a>A <code class="literal">while</code> ciklus használata</h5></div></div></div><p>
                Mindig használja a <code class="literal">while</code> ciklust még akkor is, ha csak
egyetlen sort vár visszatérésként, mivel néhány adatbázis nem szabadítja fel
az utasításkezelőt, és ez furcsa hibákhoz vezethet.
            </p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="code-style-guide-javascript"></a>JavaScript</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.6.6.4.2"></a>Böngészőkezelés</h4></div></div></div><p>
            Az összes JavaScript betöltődik minden böngészőben (nincsenek böngésző
trükközések a sablonfájlokban). A kód felelős annak eldöntéséért, hogy ki
kell hagynia vagy végre kell hajtania saját magának bizonyos részeit az
egyes böngészőkben.
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.6.6.4.3"></a>Könyvtárszerkezet</h4></div></div></div><p>
            Könyvtárszerkezet a <code class="literal">js/</code> mappán belül:
        </p><p>
            </p><pre class="programlisting">
* js
    * thirdparty              # harmadik féltől származó függvénykönyvtárak,
        * ckeditor-3.0.1      #   amelyek mindig tartalmaznak verziószámot a
        * jquery-1.3.2        #   könyvtáron belül
    * Core.Agent.*            # az ügyintézői felületre jellemző dolgok
    * Core.Customer.*         # ügyfélfelület
    * Core.*                  # közös API
            </pre><p>
        </p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.6.6.4.3.4"></a>Harmadik féltől származó kód</h5></div></div></div><p>
                Minden harmadik féltől származó modul saját alkönyvtárat kap:
„modulnév”-„verziószám” (például ckeditor-3.0.1, jquery-1.3.2). Ezen belül a
fájlneveknek nem kell verziószámot vagy előtagot tartalmaznia (hibás:
<code class="literal">jquery/jquery-1.4.3.min.js</code>, helyes:
<code class="literal">jquery-1.4.3/jquery.js</code>).
            </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.6.6.4.4"></a>Változók</h4></div></div></div><p>
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A változóneveket CamelCase jelölésrendszerben kell írni, akárcsak a Perlben.</p></li><li class="listitem"><p>A jQuery objektumot tartalmazó változókat <code class="literal">$</code> karakterrel
kell kezdeni, például: <code class="literal">$Tooltip</code>.</p></li></ul></div><p>
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.6.6.4.5"></a>Függvények</h4></div></div></div><p>
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A függvényneveket CamelCase jelölésrendszerben kell írni, akárcsak a
Perlben.</p></li></ul></div><p>
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.6.6.4.6"></a>Névterek</h4></div></div></div><p>
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Ez a rész még nincs megírva…</p></li></ul></div><p>
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="code-style-guide-javascript-code-comments"></a>Kódmagyarázatok</h4></div></div></div><p>
            A <a class="link" href="code-style-guide.html#code-style-guide-perl-code-comments" title="Kódmagyarázatok">Perl-kód magyarázási
irányelvei</a> a JavaScriptre is vonatkoznak.
        </p><p>
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Egysoros megjegyzéseket <code class="literal">//</code> karakterekkel kell készíteni.</p></li><li class="listitem"><p>Hosszabb megjegyzéseket <code class="literal">/* ... */</code> karakterekkel kell
készíteni.</p></li><li class="listitem"><p>
                    Ha megjegyzésre állítja a JavaScript kód egyes részeit, akkor csak a
<code class="literal">//</code> karaktereket használja, ugyanis a <code class="literal">/*
... */</code> használata problémákat okozhat a reguláris kifejezéseknél a
kódban.
                </p></li></ul></div><p>
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.6.6.4.8"></a>Eseménykezelés</h4></div></div></div><p>
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Mindig a <code class="literal">$.bind()</code> függvényt használja a jQuery rövidített
nevű eseménymetódusai helyett a jobb olvashatóságért (hibás:
<code class="literal">$SomeObject.click(...)</code>, helyes:
<code class="literal">$SomeObject.bind('click', ...</code>).
                </p></li><li class="listitem"><p>
                    Ne használja a <code class="literal">$.live()</code> függvényt! Súlyos
teljesítményproblémáink voltak a <code class="literal">$.live()</code> függvénnyel az
egéreseményekkel összefüggésben. Ne használja, amíg nem ellenőrizhető, hogy
a <code class="literal">$.live()</code> problémák nélkül működik a többi
eseménytípussal.
                </p></li><li class="listitem"><p>
                    Ha eseményeket köt a <code class="literal">$.bind()</code> függvénnyel, akkor
győződjön meg arról, hogy korábban leválasztotta azokat az
<code class="literal">$.unbind()</code> használatával annak biztosításához, hogy az
események ne legyenek kétszer kötve, ne kelljen a kódot még egy alkalommal
végrehajtani.
                </p></li></ul></div><p>
        </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="code-style-guide-css"></a>CSS</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                A legkisebb felbontás 1024×768 képpont.
            </p></li><li class="listitem"><p>
                Az elrendezés folyékony, amely azt jelenti, hogy ha a képernyő szélesebb,
akkor a helyet fel fogja használni.
            </p></li><li class="listitem"><p>
                Az abszolút méretmeghatározásokat képpontban (px) kell megadni, hogy
következetes kinézetet kapjon a legtöbb platformon és böngészőben.
            </p></li><li class="listitem"><p>
                A dokumentáció CSSDOC használatával készül (nézze meg a CSS-fájlokat
példaként). Az összes logikai blokknak rendelkeznie kell egy CSSDOC
megjegyzéssel.
            </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.6.6.5.3"></a>Szerkezet</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Az <a class="ulink" href="http://wiki.github.com/stubbornella/oocss/" target="_top">objektumorientált
CSS</a> megközelítést követjük. Lényegében ez azt jelenti, hogy az
elrendezés különböző általános építőkockák egyesítésével érhető el egy
bizonyos látványterv megvalósításához.
                </p></li><li class="listitem"><p>
                    Ahol csak lehetséges, nem szabad a modulra jellemző látványtervet
használni. Például ezért nem dolgozunk azonosítókkal a
<code class="literal">body</code> elemen sem, ha az elkerülhető.
                </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.6.6.5.4"></a>Stílus</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Az összes meghatározásnak ugyanabban a sorában van a <code class="literal">{</code>
karakter mint a kiválasztó, az összes szabály szabályonként egy sorban van
meghatározva, a meghatározások egyetlen <code class="literal">}</code> karaktert
tartalmazó sorral végződnek. Nézze meg a következő példát:
                </p><p>
                    </p><pre class="programlisting">
#Selector {
    width: 10px;
    height: 20px;
    padding: 4px;
}
                    </pre><p>
                </p></li><li class="listitem"><p>
                    A <code class="literal">:</code> és szabály értéke között van egy szóköz.
                </p></li><li class="listitem"><p>
                    Minden szabály 4 szóközzel van behúzva.
                </p></li><li class="listitem"><p>
                    Ha több kiválasztó van megadva, akkor vesszővel válassza el azokat, és
mindegyiket tegye külön sorba:
                </p><p>
                    </p><pre class="programlisting">
#Selector1,
#Selector2,
#Selector3 {
    width: 10px;
}
                    </pre><p>
                </p></li><li class="listitem"><p>
                    Ha a szabályok egyesíthetők, akkor egyesítse azokat (például egyesítse a
<code class="literal">background-position</code>, <code class="literal">background-image</code>,
stb. szabályokat a <code class="literal">background</code> szabályba).
                </p></li><li class="listitem"><p>
                    A szabályoknak logikai sorrendben kell lenniük egy meghatározáson belül (az
összes színre jellemző szabály együtt, az összes pozicionáló szabály együtt,
stb.).
                </p></li><li class="listitem"><p>
                    Az összes azonosító és név CamelCase jelölésrendszerben van írva:
                </p><p>
                    </p><pre class="programlisting">
&lt;div class="NavigationBar" id="AdminMenu"&gt;&lt;/div&gt;
                    </pre><p>
                </p></li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="translating-docs.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="contributing.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="ui-design.html">Előre</a></td></tr><tr><td width="40%" align="left" valign="top">A dokumentáció fordítása </td><td width="20%" align="center"><a accesskey="h" href="index.html">Főoldal</a></td><td width="40%" align="right" valign="top"> Felhasználó felület tervezése</td></tr></table></div></body></html>
