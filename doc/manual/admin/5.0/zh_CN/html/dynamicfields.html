<html><head>
<!-- otrs.github.io -->
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../../../documentation.css">
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../../../../../documentation.js"></script>
<link rel="icon" type="image/png" sizes="32x32" href="../../../../../../images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../../../images/favicon-16x16.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
<script>
$(document).ready(function() {

    // Hint languages to prevent false matches (php for example).
    hljs.configure({
        languages: ['perl', 'javascript', 'xml', 'html', 'css', 'json', 'yaml']
    });

    // programlistings in manuals
    $('pre.programlisting').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    // code snippets in Perl API docs
    $('.pod pre').addClass('perl').each(function(i, block) {
        hljs.highlightBlock(block);
    });
});</script>
<!-- otrs.github.io -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>动态字段</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="OTRS 5 - 系统管理员手册"><link rel="up" href="administration.html" title="第 4 章 管理"><link rel="prev" href="statistics-module.html" title="统计"><link rel="next" href="genericinterface.html" title="通用接口"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">动态字段</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="statistics-module.html">上一页</a> </td><th width="60%" align="center">第 4 章 管理</th><td width="20%" align="right"> <a accesskey="n" href="genericinterface.html">下一页</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="dynamicfields"></a>动态字段</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="dynamicfields.html#dynamicfields-introduction">介绍</a></span></dt><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration">配置</a></span></dt><dd><dl><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-add">新增一个动态字段</a></span></dt><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-text">文本动态字段配置</a></span></dt><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-textarea">多行文本动态字段配置</a></span></dt><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-checkbox">复选框动态字段配置</a></span></dt><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-dropdown">下拉列表框动态字段配置</a></span></dt><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-multiselect">多选动态字段配置</a></span></dt><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-date">日期动态字段配置</a></span></dt><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-datetime">日期/时间动态字段配置</a></span></dt><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-edit">编辑一个动态字段</a></span></dt><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-show">在一个窗口中显示一个动态字段</a></span></dt><dd><dl><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-show-examples">显示动态字段的例子</a></span></dt></dl></dd><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-event-defaut">通过一个工单事件模块设置动态字段的默认值</a></span></dt><dt><span class="section"><a href="dynamicfields.html#dynamicfields-configuration-preferences-defaut">通过用户‘偏好设置’设置默认值</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="dynamicfields-introduction"></a>介绍</h3></div></div></div><p>
            动态字段是OTRS中一种特殊种类的字段，创建来扩展信息，存储在工单或信件中。这些字段不是固定在系统中的，它们可能仅在特定的窗口中出现，它们可以是必填的或可选的，它们在窗口中的呈现方式取决于创建时根据该字段存储的数据定义的字段类型。例如，存储一行文本、一个日期、一个选择项等等的动态字段。
        </p><p>
            动态字段是由TicketFreeText（工单自定义文本）、TicketFreeKey（工单自定义键）、TicketFreeTime（工单自定义时间）、ArticleFreeText（信件自定义文本）和ArticleFreeKey（信件自定义键）字段（一般在OTRS
3.0之前中使用）演变而来。这些“自定义字段”的限制是：一个工单最多定义16个（文本或下拉）字段和6个时间字段，每个信件3个（文本或下拉）字段，不能更多。
        </p><p>
            现在使用动态字段后每个工单或信件的这种字段数量限制被移除了，你可以为工单或信件创建想要的任意数量的动态字段。除此之外，动态字段背后的框架已经准备好处理其它对象的定制字段了，而不仅仅是工单和信件。
        </p><p>
            这个新的处理动态字段的框架使用了模块化方法来构建，每种动态字段可以被看作是这个框架的插件模块。这意味着通过公共的OTRS模块、OTRS功能插件、OTRS定制开发和其它定制开发，可以轻易扩展大量的动态字段。
        </p><p>
            这个版本包括了下列动态字段类型：
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                        文本（一行文本）
                    </p></li><li class="listitem"><p>
                        多行文本（多行文本）
                    </p></li><li class="listitem"><p>
                        复选框
                    </p></li><li class="listitem"><p>
                        下拉列表框（单个选择，多个值）
                    </p></li><li class="listitem"><p>
                        多选框（多个选择，多个值）
                    </p></li><li class="listitem"><p>
                        日期
                    </p></li><li class="listitem"><p>
                        日期 / 时间
                    </p></li></ul></div><p>
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="dynamicfields-configuration"></a>配置</h3></div></div></div><p>
        By default, a clean installation of OTRS comes with two pre-installed
internal dynamic fields. If you plan to use such fields in tickets or
articles you need to create new, custom dynamic fields.
    </p><p>
        动态字段的配置分为两个部分，通过系统管理页面的“动态字段”链接添加一个新的动态字段或管理已有的动态字段。要在一个窗口中显示、强制显示或隐藏一个动态字段，你需要在系统配置窗口中修改OTRS设置。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-add"></a>新增一个动态字段</h4></div></div></div><p>
            点击导航栏中的“系统管理”按钮，然后点击“动态字段”链接（位于窗口中下的工单设置框中），就会显示动态字段概览，如下图所示：
        </p><p>
            </p><div class="figure"><a name="id-1.6.11.3.4.3.1"></a><p class="title"><b>图 4.81. Dynamic fields overview screen.</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-overview-empty.png" alt="Dynamic fields overview screen."></div></div></div></div><p><br class="figure-break">
        </p><p>
            注意：这个窗口的内容会随着你添加更多的动态字段而改变，如果系统是从老版本的OTRS升级而来可能已经有一些动态字段。
        </p><p>
            窗口左侧的操作栏中有两个操作对象：工单和信件，每个都有自己的动态字段下拉列表框。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                随着安装的OTRS软件包还会有更多的对象出现在操作栏中。
            </p></div><div class="itemizedlist"><p>
                创建一个动态字段的一般流程是：
            </p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    在操作栏点击期望的动态字段下拉列表框。
                </p></li><li class="listitem"><p>
                    点击你想从列表中添加的动态字段类型。
                </p></li><li class="listitem"><p>
                    填写相关配置信息。
                </p></li><li class="listitem"><p>
                    保存。
                </p></li></ul></div><p>
            动态字段配置对话框分为两个部分，上部分是所有动态字段的通用设置，下部分则根据动态字段类型可能不同。
        </p><div class="itemizedlist"><p>
                动态字段常规设置：
            </p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    名称：强制、唯一，只允许字母和数字。
                </p><p>
                    这是动态字段的内部名称，用于在一个窗口中显示或隐藏一个动态字段。对一个动态字段名称的任何修改（不推荐）都需要手动更新使用了该字段的系统配置。
                </p></li><li class="listitem"><p>
                    标签：强制。
                </p><p>
                    这是显示在窗口中的动态字段名称，它可以翻译。
                </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                        标签的翻译必须手动添加到语言翻译文件中。
                    </p></div></li><li class="listitem"><p>
                    字段顺序：强制。
                </p><p>
                    定义动态字段显示在窗口的相对顺序，每个新字段默认都在最后的位置，这个设置会影响其它已创建的动态字段顺序。
                </p></li><li class="listitem"><p>
                    有效性：强制。
                </p><p>
                    一个无效的动态字段不能在任何窗口中显示，不管它是否配置为显示。
                </p></li><li class="listitem"><p>
                    字段类型：强制，只读。
                </p><p>
                    显示当前选择的动态字段类型。
                </p></li><li class="listitem"><p>
                    对象类型：强制，只读。
                </p><p>
                    显示动态字段所属的模块范围。
                </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                为了描述每个特定的动态字段类型的设置，我们的例子中包含了几个不同的字段。这些新字段在后面部分详细描述。
            </p><p>
                下面的例子创建的所有动态字段的类型属于工单对象。如果你需要创建一个信件对象的动态字段，只需从信件下拉列表中选择你要的动态字段类型即可。
            </p></div><div class="table"><a name="id-1.6.11.3.4.11"></a><p class="title"><b>表 4.6. 下列字段将被添加到系统中：</b></p><div class="table-contents"><table><thead><tr>
                     <td>名称</td>
                     <td>标签</td>
                     <td>类型</td>
                 </tr></thead><tbody><tr>
                     <td>Field1</td>
                     <td>My Field 1</td>
                     <td>文本</td>
                 </tr><tr>
                     <td>Field2</td>
                     <td>My Field 2</td>
                     <td>文本块</td>
                 </tr><tr>
                     <td>Field3</td>
                     <td>My Field 3</td>
                     <td>复选框</td>
                 </tr><tr>
                     <td>Field4</td>
                     <td>My Field 4</td>
                     <td>下拉选项框</td>
                 </tr><tr>
                     <td>Field5</td>
                     <td>My Field 5</td>
                     <td>多选框</td>
                 </tr><tr>
                     <td>Field6</td>
                     <td>My Field 6</td>
                     <td>日期</td>
                 </tr><tr>
                     <td>Field7</td>
                     <td>My Field 7</td>
                     <td>日期 / 时间</td>
                 </tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-text"></a>文本动态字段配置</h4></div></div></div><p>
            文本动态字段用于存储一个单行字符串。
        </p><div class="itemizedlist"><p>
                文本动态字段设置：
            </p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    默认值：可选。
                </p><p>
                    这是在编辑窗口（如新建电话工单或工单编写）显示的默认值。
                </p></li><li class="listitem"><p>
                    显示链接：可选。
                </p><p>
                    如果设置了，这个字段的值会在显示窗口（如工单详情窗口或工单概览窗口）被转化成一个可点击的链接。
                </p><p>
                    例如，如果“显示链接”设置为“http://www.otrs.com”，点击这个字段填充的值会让你的浏览器打开OTRS网站。
                </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                        在设置链接的值中使用[% Data.NameX | uri %]（NameX是字段的名称），会将字段的值添加到链接引用中作为其一部分。
                    </p></div></li></ul></div><p>
            </p><div class="figure"><a name="id-1.6.11.3.5.4.1"></a><p class="title"><b>图 4.82. 文本动态字段配置对话框</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-configuration-text.png" alt="文本动态字段配置对话框"></div></div></div></div><p><br class="figure-break">
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-textarea"></a>多行文本动态字段配置</h4></div></div></div><p>
            多行文本动态字段用于存储一个多行的字符串。
        </p><div class="itemizedlist"><p>
                多行文本动态字段设置：
            </p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    行数：可选，整数。
                </p><p>
                    用于定义该字段在编辑窗口（如新建电话工单或工单编写）高度。
                </p></li><li class="listitem"><p>
                    列数：可选，整数。
                </p><p>
                    这个值用于定义该字段在编辑窗口中的宽度。
                </p></li><li class="listitem"><p>
                    默认值：可选。
                </p><p>
                    这是在编辑窗口显示的默认值（可以是多行文本）。
                </p></li></ul></div><p>
            </p><div class="figure"><a name="id-1.6.11.3.6.4.1"></a><p class="title"><b>图 4.83. 多行文本动态字段配置对话框</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-configuration-textarea.png" alt="多行文本动态字段配置对话框"></div></div></div></div><p><br class="figure-break">
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-checkbox"></a>复选框动态字段配置</h4></div></div></div><p>
            复选框动态字段用于存储‘真’或‘假’值，代表一个选中或未选中的复选框。
        </p><div class="itemizedlist"><p>
                复选框动态字段设置：
            </p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    默认值：强制。
                </p><p>
                    这是在编辑窗口（如新建电话工单或工单编写）显示的默认值，该字段的默认值只能是选中或未选中。
                </p></li></ul></div><p>
            </p><div class="figure"><a name="id-1.6.11.3.7.4.1"></a><p class="title"><b>图 4.84. 复选框动态字段配置对话框</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-configuration-checkbox.png" alt="复选框动态字段配置对话框"></div></div></div></div><p><br class="figure-break">
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-dropdown"></a>下拉列表框动态字段配置</h4></div></div></div><p>
            下拉列表框动态字段
        </p><div class="itemizedlist"><p>
                下拉列表框动态字段设置：
            </p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    可能的值：强制。
                </p><p>
                    选择值的列表。如果使用了，一个新值需要指定键（内部值）和值（显示值）。
                </p></li><li class="listitem"><p>
                    默认值：可选。
                </p><p>
                    这是在编辑窗口（如新建电话工单或工单编写）显示的默认值，默认值只能从定义的可能值中选择。
                </p></li><li class="listitem"><p>
                    添加empty值：强制，（是/否）。
                </p><p>
                    如果激活了这个选项，在可能的值之外会定义一个额外的值，显示为“-”，这个特殊值在内部是empty。
                </p></li><li class="listitem"><p>
                    可翻译的值：强制，（是/否）。
                </p><p>
                    这个设置用来标记这个动态字段可能的值是否可以翻译。只有显示的值才能翻译，内部值不受影响，值的翻译需要手动添加到语言文件。
                </p></li><li class="listitem"><p>
                    显示链接：可选。
                </p><p>
                    如果设置了，这个字段的值会在显示窗口（如工单详情窗口或工单概览窗口）被转化成一个可点击的链接。
                </p><p>
                    例如，如果“显示链接”设置为“http://www.otrs.com”，点击这个字段填充的值会让你的浏览器打开OTRS网站。
                </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                        在设置链接的值中使用[% Data.NameX | uri %]（NameX是字段的名称），会将字段的值添加到链接引用中作为其一部分。
                    </p></div></li></ul></div><p>
            </p><div class="figure"><a name="id-1.6.11.3.8.4.1"></a><p class="title"><b>图 4.85. 下拉列表框动态字段配置对话框</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-configuration-dropdown.png" alt="下拉列表框动态字段配置对话框"></div></div></div></div><p><br class="figure-break">
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-multiselect"></a>多选动态字段配置</h4></div></div></div><p>
            多选动态字段用来存储一个固定列表中的多个值。
        </p><div class="itemizedlist"><p>
                多选动态字段设置：
            </p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    可能的值：强制。
                </p><p>
                    从中选择值的列表。当添加附件的列表项目时，需要指定键（内部值）和值（显示值）
                </p></li><li class="listitem"><p>
                    默认值：可选。
                </p><p>
                    这是在编辑窗口（如新建电话工单或工单编写）显示的默认值，默认值只能从定义的可能值中选择。
                </p></li><li class="listitem"><p>
                    添加empty值：强制，（是/否）。
                </p><p>
                    如果激活了这个选项，在可能的值之外会定义一个额外的值，显示为“-”，这个特殊值在内部是empty。
                </p></li><li class="listitem"><p>
                    可翻译的值：强制，（是/否）。
                </p><p>
                    这个设置用来标记这个动态字段可能的值是否可以翻译。只有显示的值才能翻译，内部值不受影响，值的翻译需要手动添加到语言文件。
                </p></li></ul></div><p>
            </p><div class="figure"><a name="id-1.6.11.3.9.4.1"></a><p class="title"><b>图 4.86. 多选动态字段配置对话框</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-configuration-multiselect.png" alt="多选动态字段配置对话框"></div></div></div></div><p><br class="figure-break">
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-date"></a>日期动态字段配置</h4></div></div></div><p>
            日期动态字段用来存储一个日期值（年、月、日）。
        </p><div class="itemizedlist"><p>
                日期动态字段设置：
            </p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    默认日期差：可选，整数
                </p><p>
                    在编辑窗口（如新建电话工单或工单编写）默认显示的时间与当前时间之间相差的秒数（正或负）。
                </p></li><li class="listitem"><p>
                    定义年份周期：强制，（是/否）。
                </p><p>
                    用来设置在选择这个字段的年份时，是否限定可以选择使用的年份。如果设置为‘是’，则下列选项可用：
                </p><p>
                    </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                                过去的几年：可选，正整数。
                            </p><p>
                                在编辑窗口选择这个动态字段的年份时，能选择从当天算过去的几年。
                            </p></li><li class="listitem"><p>
                                未来的几年：可选，正整数。
                            </p><p>
                                在编辑窗口选择这个动态字段的年份时，能选择从当天算未来的几年。
                            </p></li></ul></div><p>
                </p></li><li class="listitem"><p>
                    显示链接：可选。
                </p><p>
                    如果设置了，这个字段的值会在显示窗口（如工单详情窗口或工单概览窗口）被转化成一个可点击的链接。
                </p><p>
                    例如，如果‘显示链接’设置为“http://www.otrs.com”，点击这个字段填充的值会让你的浏览器打开OTRS网站。
                </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                        在设置链接的值中使用[% Data.NameX | uri %]（NameX是字段的名称），会将字段的值添加到链接引用中作为其一部分。
                    </p></div></li></ul></div><p>
            </p><div class="figure"><a name="id-1.6.11.3.10.4.1"></a><p class="title"><b>图 4.87. 日期动态字段配置对话框</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-configuration-date.png" alt="日期动态字段配置对话框"></div></div></div></div><p><br class="figure-break">
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-datetime"></a>日期/时间动态字段配置</h4></div></div></div><p>
            日期/时间动态字段用来存储一个日期时间值（年、月、日、时、分和秒）。
        </p><div class="itemizedlist"><p>
                日期/时间动态字段设置：
            </p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    默认日期差：可选，整数
                </p><p>
                    在编辑窗口（如新建电话工单或工单编写）默认显示的时间与当前时间之间相差的秒数（正或负）。
                </p></li><li class="listitem"><p>
                    定义年份周期：强制，（是/否）。
                </p><p>
                    用来设置在选择这个字段的年份时，是否限定可以选择使用的年份。如果设置为‘是’，则下列选项可用：
                </p><p>
                    </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                                过去的几年：可选，正整数。
                            </p><p>
                                在编辑窗口选择这个动态字段的年份时，能选择从当天算过去的几年。
                            </p></li><li class="listitem"><p>
                                未来的几年：可选，正整数。
                            </p><p>
                                在编辑窗口选择这个动态字段的年份时，能选择从当天算未来的几年。
                            </p></li></ul></div><p>
                </p></li><li class="listitem"><p>
                    显示链接：可选。
                </p><p>
                    如果设置了，这个字段的值会在显示窗口（如工单详情窗口或工单概览窗口）被转化成一个可点击的链接。
                </p><p>
                    例如，如果‘显示链接’设置为“http://www.otrs.com”，点击这个字段填充的值会让你的浏览器打开OTRS网站。
                </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                        在设置链接的值中使用[% Data.NameX | uri %]（NameX是字段的名称），会将字段的值添加到链接引用中作为其一部分。
                    </p></div></li></ul></div><p>
            </p><div class="figure"><a name="id-1.6.11.3.11.4.1"></a><p class="title"><b>图 4.88. 日期/时间动态字段配置对话框</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-configuration-datetime.png" alt="日期/时间动态字段配置对话框"></div></div></div></div><p><br class="figure-break">
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-edit"></a>编辑一个动态字段</h4></div></div></div><p>
            一个（用前面的例子）填满动态字段概览窗口像这个样子：
        </p><p>
            </p><div class="figure"><a name="id-1.6.11.3.12.3.1"></a><p class="title"><b>图 4.89. 填满样例数据的动态字段概览窗口</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-overview-filled.png" alt="填满样例数据的动态字段概览窗口"></div></div></div></div><p><br class="figure-break">
        </p><p>
            要修改或编辑一个动态字段，你必须至少定义了一个动态字段，从动态字段概览窗口选择一个已经添加的字段然后更新它的设置。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                不是所有的动态字段设置都可以修改的，字段类型和对象类型是从选择字段时就固定了的，它们都无法被修改。
            </p><p>
                不推荐去修改字段的内部名称，但可以随时修改标签。如果修改了内部名称，所有系统配置中使用了该字段的设置都需要更新，同时还有用户偏好设置（如果定义了该动态字段）。
            </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-show"></a>在一个窗口中显示一个动态字段</h4></div></div></div><p>
            要在一个特定的窗口显示一个动态字段，有两个强制条件：
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                    动态字段必须有效。
                </p></li><li class="listitem"><p>
                    在这个窗口的配置中动态字段必须设置为1或2。
                </p></li></ol></div><div class="itemizedlist"><p>
                按照下列步骤在一个窗口中显示一个动态字段
            </p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    确保动态字段设置为有效，你可以从动态字段概览窗口查看这个字段的有效性。如需要可以通过编辑该字段设置为有效。
                </p></li><li class="listitem"><p>
                    打开系统配置并从窗口左侧操作栏的下拉列表框中选择“Ticket（工单）”。
                </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                        你还可以在上面的搜索框中搜索“DynamicField”或准确的系统配置项（如果你已经知道）。
                    </p></div></li><li class="listitem"><p>
                    定位你要查找的窗口设置所在的子组然后点击它。例如“Frontend::Agent::Ticket::ViewPhoneNew”。
                </p></li><li class="listitem"><p>
                    搜索以“###DynamicField”结尾的设置，例如“Ticket::Frontend::AgentTicketPhone###DynamicField”。
                </p></li><li class="listitem"><p>
                    如果这个设置为空或者没有需要的动态字段名称，点击“+”按钮来添加一个新的条目。例如，键：Field1，值：1。
                </p><p>
                    如果这个设置已经列出了这个动态字段的名称，确保对应值设置为1-设置这个字段或2-显示为强制（必填）。
                </p></li><li class="listitem"><p>
                    通过点击窗口正文的“更新”按钮来保存配置，然后导航到你要显示这个字段的窗口。
                </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="dynamicfields-configuration-show-examples"></a>显示动态字段的例子</h5></div></div></div><p>
                下面是在不同窗口中显示或隐藏动态字段的系统配置的配置示例。
            </p><p>
                </p><div class="example"><a name="Field1-PhoneTicket-Normal"></a><p class="title"><b>例 4.22. 在新建电话工单窗口激活Field1。</b></p><div class="example-contents"><p>
                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                    <span class="emphasis"><em>主组：</em></span>Ticket
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>子组：</em></span>Frontend::Agent::Ticket::ViewPhoneNew
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>设置：</em></span>Ticket::Frontend::AgentTicketPhone###DynamicField
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>值：</em></span>
                                </p><p>
                                    </p><div class="informaltable"><table><thead><tr>
                                                <td>键</td>
                                                <td>值</td>
                                            </tr></thead><tbody><tr>
                                                <td>Field1</td>
                                                <td>1</td>
                                            </tr></tbody></table></div><p>
                                </p></li></ul></div><p>
                    </p><p>
                        </p><div class="figure"><a name="id-1.6.11.3.13.5.3.1.3.1"></a><p class="title"><b>图 4.90. 在新建电话工单窗口显示Field1</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-agentticketphone-field1.png" alt="在新建电话工单窗口显示Field1"></div></div></div></div><p><br class="figure-break">
                    </p></div></div><p><br class="example-break">
            </p><p>
                </p><div class="example"><a name="Field1-PhoneTicket-Mandatory"></a><p class="title"><b>例 4.23. 在新建电话工单窗口激活Field1为必填字段。</b></p><div class="example-contents"><p>
                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                    <span class="emphasis"><em>主组：</em></span>Ticket
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>子组：</em></span>Frontend::Agent::Ticket::ViewPhoneNew
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>设置：</em></span>Ticket::Frontend::AgentTicketPhone###DynamicField
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>值：</em></span>
                                </p><p>
                                    </p><div class="informaltable"><table><thead><tr>
                                                <td>键</td>
                                                <td>值</td>
                                            </tr></thead><tbody><tr>
                                                <td>Field1</td>
                                                <td>2</td>
                                            </tr></tbody></table></div><p>
                                </p></li></ul></div><p>
                    </p><p>
                        </p><div class="figure"><a name="id-1.6.11.3.13.5.4.1.3.1"></a><p class="title"><b>图 4.91. 在新建电话工单窗口显示Field1为必填字段</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-agentticketphone-field1-mandatory.png" alt="在新建电话工单窗口显示Field1为必填字段"></div></div></div></div><p><br class="figure-break">
                    </p></div></div><p><br class="example-break">
            </p><p>
                </p><div class="example"><a name="AllFields-PhoneTicket"></a><p class="title"><b>例 4.24. 在新建电话工单窗口激活数个字段。</b></p><div class="example-contents"><p>
                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                    <span class="emphasis"><em>主组：</em></span>Ticket
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>子组：</em></span>Frontend::Agent::Ticket::ViewPhoneNew
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>设置：</em></span>Ticket::Frontend::AgentTicketPhone###DynamicField
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>值：</em></span>
                                </p><p>
                                    </p><div class="informaltable"><table><thead><tr>
                                                <td>键</td>
                                                <td>值</td>
                                            </tr></thead><tbody><tr>
                                                <td>Field1</td>
                                                <td>1</td>
                                            </tr><tr>
                                                <td>Field2</td>
                                                <td>1</td>
                                            </tr><tr>
                                                <td>Field3</td>
                                                <td>1</td>
                                            </tr><tr>
                                                <td>Field4</td>
                                                <td>1</td>
                                            </tr><tr>
                                                <td>Field5</td>
                                                <td>1</td>
                                            </tr><tr>
                                                <td>Field6</td>
                                                <td>1</td>
                                            </tr><tr>
                                                <td>Field7</td>
                                                <td>1</td>
                                            </tr></tbody></table></div><p>
                                </p></li></ul></div><p>
                    </p><p>
                        </p><div class="figure"><a name="id-1.6.11.3.13.5.5.1.3.1"></a><p class="title"><b>图 4.92. 在新建电话工单窗口显示数个字段为必填</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-agentticketphone-allfields.png" alt="在新建电话工单窗口显示数个字段为必填"></div></div></div></div><p><br class="figure-break">
                    </p></div></div><p><br class="example-break">
            </p><p>
                </p><div class="example"><a name="SomeFields-PhoneTicket"></a><p class="title"><b>例 4.25. 在新建电话工单窗口去激活一些字段。</b></p><div class="example-contents"><p>
                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                    <span class="emphasis"><em>主组：</em></span>Ticket
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>子组：</em></span>Frontend::Agent::Ticket::ViewPhoneNew
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>设置：</em></span>Ticket::Frontend::AgentTicketPhone###DynamicField
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>值：</em></span>
                                </p><p>
                                    </p><div class="informaltable"><table><thead><tr>
                                                <td>键</td>
                                                <td>值</td>
                                            </tr></thead><tbody><tr>
                                                <td>Field1</td>
                                                <td>1</td>
                                            </tr><tr>
                                                <td>Field2</td>
                                                <td>0</td>
                                            </tr><tr>
                                                <td>Field3</td>
                                                <td>1</td>
                                            </tr><tr>
                                                <td>Field4</td>
                                                <td>0</td>
                                            </tr><tr>
                                                <td>Field5</td>
                                                <td>1</td>
                                            </tr><tr>
                                                <td>Field6</td>
                                                <td>0</td>
                                            </tr><tr>
                                                <td>Field7</td>
                                                <td>1</td>
                                            </tr></tbody></table></div><p>
                                </p></li></ul></div><p>
                    </p><p>
                        </p><div class="figure"><a name="id-1.6.11.3.13.5.6.1.3.1"></a><p class="title"><b>图 4.93. 在新建电话工单窗口不显示一些字段</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-agentticketphone-somefields.png" alt="在新建电话工单窗口不显示一些字段"></div></div></div></div><p><br class="figure-break">
                    </p></div></div><p><br class="example-break">
            </p><p>
                </p><div class="example"><a name="Field1-TicketZoom"></a><p class="title"><b>例 4.26. 在工单详情窗口激活Field1。</b></p><div class="example-contents"><p>
                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                    <span class="emphasis"><em>主组：</em></span>Ticket
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>子组：</em></span>Frontend::Agent::Ticket::ViewZoom
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>设置：</em></span>Ticket::Frontend::AgentTicketZoom###DynamicField
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>值：</em></span>
                                </p><p>
                                    </p><div class="informaltable"><table><thead><tr>
                                                <td>键</td>
                                                <td>值</td>
                                            </tr></thead><tbody><tr>
                                                <td>Field1</td>
                                                <td>1</td>
                                            </tr></tbody></table></div><p>
                                </p></li></ul></div><p>
                    </p><p>
                        </p><div class="figure"><a name="id-1.6.11.3.13.5.7.1.3.1"></a><p class="title"><b>图 4.94. 在工单详情窗口显示Field1</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-agentticketzoom-field1.png" alt="在工单详情窗口显示Field1"></div></div></div></div><p><br class="figure-break">
                    </p></div></div><p><br class="example-break">
            </p><p>
                </p><div class="example"><a name="Field1-TicketOverviewSmall"></a><p class="title"><b>例 4.27. 在工单概览简洁模式视图激活Field1。</b></p><div class="example-contents"><p>
                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                    <span class="emphasis"><em>主组：</em></span>Ticket
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>子组：</em></span>Frontend::Agent::TicketOverview
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>设置：</em></span>Ticket::Frontend::OverviewSmall###DynamicField
                                </p></li><li class="listitem"><p>
                                    <span class="emphasis"><em>值：</em></span>
                                </p><p>
                                    </p><div class="informaltable"><table><thead><tr>
                                                <td>键</td>
                                                <td>值</td>
                                            </tr></thead><tbody><tr>
                                                <td>Field1</td>
                                                <td>1</td>
                                            </tr></tbody></table></div><p>
                                </p></li></ul></div><p>
                    </p><p>
                        </p><div class="figure"><a name="id-1.6.11.3.13.5.8.1.3.1"></a><p class="title"><b>图 4.95. 在工单概览简洁模式视图显示Field1</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-ticketoverviewsmall-field1.png" alt="在工单概览简洁模式视图显示Field1"></div></div></div></div><p><br class="figure-break">
                    </p><p>
                        这个设置影响：升级视图、锁定视图、队列视图、负责人视图、状态视图、服务视图和状态视图窗口。
                    </p></div></div><p><br class="example-break">
            </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-event-defaut"></a>通过一个工单事件模块设置动态字段的默认值</h4></div></div></div><p>
            一个工单事件（如工单创建）可以触发设置某个字段的值（如果该字段还没有一个值）。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                通过使用这个方法，在编辑窗口（例如新建电话工单）无法看到这个默认值，因为它是在工单创建之后设置的。
            </p></div><p>
            要激活这个功能，需要启用下列的设置：“Ticket::EventModulePost###TicketDynamicFieldDefault”。
        </p><div class="example"><a name="Field1-EventDefault"></a><p class="title"><b>例 4.28. 在工单创建事件激活Field1。</b></p><div class="example-contents"><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                            <span class="emphasis"><em>主组：</em></span>Ticket
                        </p></li><li class="listitem"><p>
                            <span class="emphasis"><em>子组：</em></span>Core::TicketDynamicFieldDefault
                        </p></li><li class="listitem"><p>
                            <span class="emphasis"><em>设置：</em></span>Ticket::TicketDynamicFieldDefault###Element1
                        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                                这个配置可以在16个Ticket::TicketDynamicFieldDefault###Element设置中的任意一个里面设置。
                            </p><p>
                                如果超过16个动态字段，需要设置一个定制的XML文件并放于目录$OTRS_HOME/Kernel/Config/files下来扩展这个功能。
                            </p></div></li><li class="listitem"><p>
                            <span class="emphasis"><em>值：</em></span>
                        </p><p>
                            </p><div class="informaltable"><table><thead><tr>
                                        <td>键</td>
                                        <td>值</td>
                                    </tr></thead><tbody><tr>
                                        <td>事件</td>
                                        <td>工单创建</td>
                                    </tr><tr>
                                        <td>名称</td>
                                        <td>Field1</td>
                                    </tr><tr>
                                        <td>值</td>
                                        <td>一个新值</td>
                                    </tr></tbody></table></div><p>
                        </p></li></ul></div><p>
            </p></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfields-configuration-preferences-defaut"></a>通过用户‘偏好设置’设置默认值</h4></div></div></div><p>
            动态字段默认值可以被用户定义在偏好设置中的值覆盖。
        </p><p>
            使用这个方法，这个动态字段将在所有激活了它的窗口显示这个默认值（如果该字段没有一个不同的值）。
        </p><p>
            系统配置中的“PreferencesGroups###DynamicField”设置位于子组“Frontend::Agent::Preferences”。这个设置是一个例子，关于如何为一个选定的用户在用户偏好设置窗口创建一个条目来设置一个独有的动态字段默认值。这个设置的限制是它只允许使用一个动态字段。如果2个或更多的字段需要使用这个功能，需要创建一个定制的XML配置文件来添加多个类似于这个的设置。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注意</h3><p>
                记住：如果在一个新的XML文件中添加更多的设置，每个设置的名称需要是系统唯一的，且不能是“PreferencesGroups###DynamicField”。例如：PreferencesGroups###101-DynamicField-Field1、PreferencesGroups###102-DynamicField-Field2、PreferencesGroups###My-Field1、
PreferencesGroups###My-Field2等等。
            </p></div><div class="example"><a name="Field1-UserPreference"></a><p class="title"><b>例 4.29. 在用户‘偏好设置’中激活Field1。</b></p><div class="example-contents"><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                            <span class="emphasis"><em>主组：</em></span>Ticket
                        </p></li><li class="listitem"><p>
                            <span class="emphasis"><em>子组：</em></span>Frontend::Agent::Preferences
                        </p></li><li class="listitem"><p>
                            <span class="emphasis"><em>设置：</em></span>PreferencesGroups###101-DynamicField-Field1
                        </p></li><li class="listitem"><p>
                            <span class="emphasis"><em>值：</em></span>
                        </p><p>
                            </p><div class="informaltable"><table><thead><tr>
                                        <td>键</td>
                                        <td>值</td>
                                    </tr></thead><tbody><tr>
                                        <td>事件</td>
                                        <td>工单创建</td>
                                    </tr><tr>
                                        <td>Active（活动的）</td>
                                        <td>1</td>
                                    </tr><tr>
                                        <td>Block（块）</td>
                                        <td>Input（输入）</td>
                                    </tr><tr>
                                        <td>Column（列）</td>
                                        <td>其它设置</td>
                                    </tr><tr>
                                        <td>Data:（数据：）</td>
                                        <td>[% Env("UserDynamicField_Field1") %]</td>
                                    </tr><tr>
                                        <td>Key:（键：）</td>
                                        <td>My Field 1</td>
                                    </tr><tr>
                                        <td>Label:（标签：）</td>
                                        <td>Default value for: My Field 1（Field1的默认值）</td>
                                    </tr><tr>
                                        <td>Module:（模块：）</td>
                                        <td>Kernel::Output::HTML::PreferencesGeneric</td>
                                    </tr><tr>
                                        <td>PrefKey:</td>
                                        <td>UserDynamicField_Field1</td>
                                    </tr><tr>
                                        <td>Prio:</td>
                                        <td>7000</td>
                                    </tr></tbody></table></div><p>
                        </p></li></ul></div><p>
            </p><p>
                </p><div class="figure"><a name="id-1.6.11.3.15.6.3.1"></a><p class="title"><b>图 4.96. 在用户‘偏好设置’中激活Field1</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/dynamicfields/dynamicfields-userpreferences.png" alt="在用户‘偏好设置’中激活Field1"></div></div></div></div><p><br class="figure-break">
            </p></div></div><br class="example-break"></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="statistics-module.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="administration.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="genericinterface.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">统计 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 通用接口</td></tr></table></div></body></html>
