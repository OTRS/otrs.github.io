

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Postmaster Filters &mdash; OTRS Administration Manual 8.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/otrs.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="PostMaster Mail Accounts" href="postmaster-mail-accounts.html" />
    <link rel="prev" title="PGP Keys" href="pgp-keys.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
    
    
    <a href="https://doc.otrs.com/doc" class="icon fa-rocket DocumentationOverview"> OTRS Documentation</a>

    

          
            <a href="../index.html" class="icon icon-home"> OTRS Administration Manual
          

          
            
            <img src="../../_static/otrs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket-settings.html">Ticket Settings</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../communication-notifications.html">Communication &amp; Notifications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="admin-notification.html">Admin Notification</a></li>
<li class="toctree-l2"><a class="reference internal" href="appointment-notifications.html">Appointment Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="communication-log.html">Communication Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="email-addresses.html">Email Addresses</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgp-keys.html">PGP Keys</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Postmaster Filters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#manage-postmaster-filters">Manage Postmaster Filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#postmaster-filter-settings">Postmaster Filter Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-postmaster-filter-settings">Basic Postmaster Filter Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filter-condition">Filter Condition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-email-headers">Set Email Headers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="postmaster-mail-accounts.html">PostMaster Mail Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="s-mime-certificates.html">S/MIME Certificates</a></li>
<li class="toctree-l2"><a class="reference internal" href="ticket-notifications.html">Ticket Notifications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../users-groups-roles.html">Users, Groups &amp; Roles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processes-automation.html">Processes &amp; Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external-interface.html">External Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../otrs-group-services.html">OTRS Group Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OTRS Administration Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../communication-notifications.html">Communication &amp; Notifications</a> &raquo;</li>
        
      <li>Postmaster Filters</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OTRS/doc-admin/blob/master/content/communication-notifications/postmaster-filters.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="postmaster-filters">
<h1>Postmaster Filters<a class="headerlink" href="#postmaster-filters" title="Permalink to this headline">¶</a></h1>
<p>Pre-sorting standard mail done in a mail room takes care that not every piece of mail sent to the office goes to the same group of people. After a second look at the envelope, rerouting occurs where needed.</p>
<p>OTRS uses so-called <em>postmaster filters</em> to read the email’s envelope and take further action. Depending upon, for example, a subject or sender, an email bound for the service desk could land in a sub-queue or be redirected to a completely different team to create transparency and give your customer the fastest service possible.</p>
<p>Use this screen to add postmaster filters to the system. The postmaster filter management screen is available in the <em>PostMaster Filters</em> module of the <em>Communication &amp; Notifications</em> group.</p>
<div class="figure" id="id1">
<img alt="Postmaster Filter Management Screen" src="../../_images/postmaster-filter-management.png" />
<p class="caption"><span class="caption-text">Postmaster Filter Management Screen</span></p>
</div>
<div class="section" id="manage-postmaster-filters">
<h2>Manage Postmaster Filters<a class="headerlink" href="#manage-postmaster-filters" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When adding or editing a postmaster filter, please keep in mind that they are evaluated in <em>ASCIIbetical</em> order by name.</p>
</div>
<p>To add a postmaster filter:</p>
<ol class="arabic simple">
<li>Click on the <em>Add PostMaster Filter</em> button in the left sidebar.</li>
<li>Fill in the required fields.</li>
<li>Click on the <em>Save</em> button.</li>
</ol>
<p>To edit a postmaster filter:</p>
<ol class="arabic simple">
<li>Click on a postmaster filter in the list of postmaster filters.</li>
<li>Modify the fields.</li>
<li>Click on the <em>Save</em> or <em>Save and finish</em> button.</li>
</ol>
<p>To delete a postmaster filter:</p>
<ol class="arabic simple">
<li>Click on the trash icon in the list of postmaster filters.</li>
<li>Click on the <em>Confirm</em> button.</li>
</ol>
<div class="figure" id="id2">
<img alt="Delete Postmaster Filter Screen" src="../../_images/postmaster-filter-delete.png" />
<p class="caption"><span class="caption-text">Delete Postmaster Filter Screen</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If several postmaster filters are added to the system, a filter box is useful to find a particular postmaster filter by just typing to filter.</p>
</div>
</div>
<div class="section" id="postmaster-filter-settings">
<h2>Postmaster Filter Settings<a class="headerlink" href="#postmaster-filter-settings" title="Permalink to this headline">¶</a></h2>
<p>The following settings are available when adding or editing this resource. The fields marked with an asterisk are mandatory.</p>
<div class="figure" id="id3">
<img alt="Postmaster Filter Settings Example" src="../../_images/postmaster-filter-settings-example.png" />
<p class="caption"><span class="caption-text">Postmaster Filter Settings Example</span></p>
</div>
<div class="section" id="basic-postmaster-filter-settings">
<h3>Basic Postmaster Filter Settings<a class="headerlink" href="#basic-postmaster-filter-settings" title="Permalink to this headline">¶</a></h3>
<div class="figure" id="id4">
<img alt="Postmaster Filter Settings - Basic" src="../../_images/postmaster-filter-settings-basic.png" />
<p class="caption"><span class="caption-text">Postmaster Filter Settings - Basic</span></p>
</div>
<dl class="docutils">
<dt>Name *</dt>
<dd><p class="first">The name of this resource. Any type of characters can be entered to this field including uppercase letters and spaces. The name will be displayed in the overview table.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When adding or editing one of the postmaster filters, remember multiple filters may apply to a single mail. Rules are executed and sorted by the ASCII value of the names. Based on the sorted order in the overview, they are applied from top to bottom. Look at the <a class="reference external" href="https://en.wikipedia.org/wiki/Ascii">ASCII table</a> to see how to sort your names based on the <em>ASCIIbetical</em> order.</p>
</div>
</dd>
<dt>Stop after match *</dt>
<dd><p class="first">Postmaster filters are evaluated in <em>ASCIIbetical</em> order. This setting defines the evaluation of the subsequent postmaster filters.</p>
<dl class="last docutils">
<dt>No</dt>
<dd>All postmaster filters are executed.</dd>
<dt>Yes</dt>
<dd>The current postmaster filter is still evaluated, but evaluation of the remaining filters is canceled.</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="filter-condition">
<h3>Filter Condition<a class="headerlink" href="#filter-condition" title="Permalink to this headline">¶</a></h3>
<div class="figure" id="id5">
<img alt="Postmaster Filter Settings - Filter Condition" src="../../_images/postmaster-filter-settings-filter-condition.png" />
<p class="caption"><span class="caption-text">Postmaster Filter Settings - Filter Condition</span></p>
</div>
<p>A postmaster filter consists of one or more conditions that must be met in order for the defined actions to be executed on the email. Filter conditions can be defined for specific mail header entries or for strings in the mail body.</p>
<dl class="docutils">
<dt>Search header field … for value</dt>
<dd><p class="first">Select a mail header or an <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> header from the first drop-down list, and enter a value as search term for the selected mail header to the second field. Even regular expressions can be used for extended pattern matching.</p>
<p>A list of mail header entries can be found in <a class="reference external" href="https://tools.ietf.org/html/rfc5322">RFC5322</a>. It is also possible to define <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> headers as filter condition. The different <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> headers and their meaning are the following:</p>
<dl class="last docutils">
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-AttachmentCount</span></code></dt>
<dd>This contains as value the number of attachments which are contained in the email (e.g. <em>0</em> for mails without attachments).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-AttachmentExists</span></code></dt>
<dd>Depending on whether attachments are included in the email this <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> header is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>, or it has a <code class="docutils literal notranslate"><span class="pre">no</span></code> value if no attachments are included.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-BodyDecrypted</span></code></dt>
<dd>If the incoming mail was encrypted, it is possible to add a search term to look for the body of the incoming encrypted mail.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-CustomerNo</span></code></dt>
<dd>Set the customer ID for the ticket.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-CustomerUser</span></code></dt>
<dd>Set the customer user for the ticket.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-DynamicField-&lt;DynamicFieldName&gt;</span></code></dt>
<dd>Saves an additional information value for the ticket on <em>&lt;DynamicFieldName&gt;</em> dynamic field. The possible values depend on dynamic field configuration (e.g. text: <em>Notebook</em>, date: <em>2010-11-20 00:00:00</em>, integer: <em>1</em>).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-FollowUp-*</span></code></dt>
<dd>These headers are the same as the ones without the <code class="docutils literal notranslate"><span class="pre">FollowUp</span></code> prefix, but these headers are applied only for follow-up mails.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-FollowUp-State-Keep</span></code></dt>
<dd>If set to <em>1</em>, the incoming follow-up message will not change the ticket state. For this purpose the header can be customized in the system configuration using option <code class="docutils literal notranslate"><span class="pre">KeepStateHeader</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-Ignore</span></code></dt>
<dd>If set to <code class="docutils literal notranslate"><span class="pre">Yes</span></code> or <code class="docutils literal notranslate"><span class="pre">True</span></code>, the incoming message will completely be ignored and never delivered to the system.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-IsVisibleForCustomer</span></code></dt>
<dd>Controls if the article is shown to customer users. Possible values are <em>0</em> or <em>1</em>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-Lock</span></code></dt>
<dd>Set the lock state of a ticket. Possible values are <code class="docutils literal notranslate"><span class="pre">lock</span></code> or <code class="docutils literal notranslate"><span class="pre">unlock</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-Loop</span></code></dt>
<dd>If set to <code class="docutils literal notranslate"><span class="pre">Yes</span></code> or <code class="docutils literal notranslate"><span class="pre">True</span></code>, no auto answer is delivered to the sender of the message (mail loop protection).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-Owner</span></code></dt>
<dd>Set the agent as owner for the ticket.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-OwnerID</span></code></dt>
<dd>Set the agent ID as owner for the ticket.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-Priority</span></code></dt>
<dd>Set the priority for the ticket.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-Queue</span></code></dt>
<dd>Defines the queue in which the ticket should be sorted. If a queue is set with this header, this setting has priority over all other filter rules that refer to queues. If you use a sub-queue, specify it as <em>Parent::Sub</em>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-Responsible</span></code></dt>
<dd>Set the agent as responsible for the ticket.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-ResponsibleID</span></code></dt>
<dd>Set the agent ID as responsible for the ticket.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-SenderType</span></code></dt>
<dd>Set the sender type for the ticket. Possible values are <code class="docutils literal notranslate"><span class="pre">agent</span></code>, <code class="docutils literal notranslate"><span class="pre">system</span></code> or <code class="docutils literal notranslate"><span class="pre">customer</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-Service</span></code></dt>
<dd>Set the service for the ticket. If you use a sub-service, specify it as <em>Parent::Sub</em>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-SLA</span></code></dt>
<dd>Set the service level agreement for the ticket.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-State</span></code></dt>
<dd>Set the state for the ticket.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-State-PendingTime</span></code></dt>
<dd><p class="first">Set the pending time for the ticket (you should sent a pending state via <code class="docutils literal notranslate"><span class="pre">X-OTRS-State</span></code>). You can specify absolute dates like <em>2010-11-20 00:00:00</em> or relative dates, based on the arrival time of the email. Use the form <code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">$Number</span> <span class="pre">$Unit</span></code>, where <code class="docutils literal notranslate"><span class="pre">$Unit</span></code> can be <em>s</em> (seconds), <em>m</em> (minutes), <em>h</em> (hours) or <em>d</em> (days). Only one unit can be specified. Examples of valid settings: <em>+50s</em> (pending in 50 seconds), <em>+30m</em> (30 minutes), <em>+12d</em> (12 days).</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Settings like <em>+1d 12h</em> are not possible. You can specify <em>+36h</em> instead.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-Title</span></code></dt>
<dd>Set the title for the ticket.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X-OTRS-Type</span></code></dt>
<dd>Set the type for the ticket.</dd>
</dl>
</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">These headers must be manually injected into the mail by means not provided for by OTRS. OTRS only accepts <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> headers from trusted sources.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="postmaster-mail-accounts.html#mail-account-settings"><span class="std std-ref">Mail Account Settings</span></a> defines the trust level.</p>
</div>
<dl class="docutils">
<dt>Negate</dt>
<dd>If checked, the condition will use the negate search term.</dd>
</dl>
</div>
<div class="section" id="set-email-headers">
<h3>Set Email Headers<a class="headerlink" href="#set-email-headers" title="Permalink to this headline">¶</a></h3>
<div class="figure" id="id6">
<img alt="Postmaster Filter Settings - Set Email Headers" src="../../_images/postmaster-filter-settings-set-email-headers.png" />
<p class="caption"><span class="caption-text">Postmaster Filter Settings - Set Email Headers</span></p>
</div>
<p>In this section you can choose the actions that are triggered if the filter rules match.</p>
<dl class="docutils">
<dt>Set email header … with value</dt>
<dd><p class="first">Select an <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> header from the first drop-down list, and add a value to the second field that should be set as value of the selected <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> header.</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> headers are already described above.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          

<script>
// Start Google Analytics Tracking
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-28118796-2', 'auto');
ga('send', 'pageview');
// End Google Analytics Tracking
</script>

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="postmaster-mail-accounts.html" class="btn btn-neutral float-right" title="PostMaster Mail Accounts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pgp-keys.html" class="btn btn-neutral" title="PGP Keys" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2001-2020 OTRS AG, https://otrs.com/

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>